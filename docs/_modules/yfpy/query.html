<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>yfpy.query &mdash; YFPY v8.0.3 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/dark_mode_css/general.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/dark_mode_css/dark.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/dark_mode_js/default_dark.js"></script>
        <script src="../../_static/dark_mode_js/theme_switcher.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/yfpy-logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                v8.0.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_autosummary/yfpy.html">YFPY</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../_autosummary/yfpy.data.html">yfpy.data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.data.Data.html">yfpy.data.Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../_autosummary/yfpy.exceptions.html">yfpy.exceptions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.exceptions.YahooFantasySportsDataNotFound.html">yfpy.exceptions.YahooFantasySportsDataNotFound</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.exceptions.YahooFantasySportsException.html">yfpy.exceptions.YahooFantasySportsException</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../_autosummary/yfpy.logger.html">yfpy.logger</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.logger.get_logger.html">yfpy.logger.get_logger</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../_autosummary/yfpy.models.html">yfpy.models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.Bonus.html">yfpy.models.Bonus</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.ByeWeeks.html">yfpy.models.ByeWeeks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.Division.html">yfpy.models.Division</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.DivisionalOutcomeTotals.html">yfpy.models.DivisionalOutcomeTotals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.DraftAnalysis.html">yfpy.models.DraftAnalysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.DraftResult.html">yfpy.models.DraftResult</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.Game.html">yfpy.models.Game</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.GameWeek.html">yfpy.models.GameWeek</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.Headshot.html">yfpy.models.Headshot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.League.html">yfpy.models.League</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.Manager.html">yfpy.models.Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.Matchup.html">yfpy.models.Matchup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.MatchupGrade.html">yfpy.models.MatchupGrade</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.Name.html">yfpy.models.Name</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.OutcomeTotals.html">yfpy.models.OutcomeTotals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.Ownership.html">yfpy.models.Ownership</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.PercentOwned.html">yfpy.models.PercentOwned</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.Player.html">yfpy.models.Player</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.PlayerPoints.html">yfpy.models.PlayerPoints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.PlayerStats.html">yfpy.models.PlayerStats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.PositionType.html">yfpy.models.PositionType</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.Roster.html">yfpy.models.Roster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.RosterAdds.html">yfpy.models.RosterAdds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.RosterPosition.html">yfpy.models.RosterPosition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.Scoreboard.html">yfpy.models.Scoreboard</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.SelectedPosition.html">yfpy.models.SelectedPosition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.Settings.html">yfpy.models.Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.Standings.html">yfpy.models.Standings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.Stat.html">yfpy.models.Stat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.StatCategories.html">yfpy.models.StatCategories</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.StatModifiers.html">yfpy.models.StatModifiers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.StatPositionType.html">yfpy.models.StatPositionType</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.Streak.html">yfpy.models.Streak</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.Team.html">yfpy.models.Team</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.TeamLogo.html">yfpy.models.TeamLogo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.TeamPoints.html">yfpy.models.TeamPoints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.TeamProjectedPoints.html">yfpy.models.TeamProjectedPoints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.TeamStandings.html">yfpy.models.TeamStandings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.Transaction.html">yfpy.models.Transaction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.TransactionData.html">yfpy.models.TransactionData</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.User.html">yfpy.models.User</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.models.YahooFantasyObject.html">yfpy.models.YahooFantasyObject</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../_autosummary/yfpy.query.html">yfpy.query</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html">yfpy.query.YahooFantasySportsQuery</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../_autosummary/yfpy.utils.html">yfpy.utils</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.utils.complex_json_handler.html">yfpy.utils.complex_json_handler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.utils.convert_strings_to_numeric_equivalents.html">yfpy.utils.convert_strings_to_numeric_equivalents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.utils.dict_to_list.html">yfpy.utils.dict_to_list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.utils.flatten_json_dict_list.html">yfpy.utils.flatten_json_dict_list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.utils.flatten_to_list.html">yfpy.utils.flatten_to_list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.utils.flatten_to_objects.html">yfpy.utils.flatten_to_objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.utils.get_type.html">yfpy.utils.get_type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.utils.prettify_data.html">yfpy.utils.prettify_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.utils.reformat_json_list.html">yfpy.utils.reformat_json_list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.utils.reorganize_json_dict.html">yfpy.utils.reorganize_json_dict</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/yfpy.utils.unpack_data.html">yfpy.utils.unpack_data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../_autosummary/test.html">Tests</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../_autosummary/test.conftest.html">test.conftest</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/test.conftest.show_log_output.html">test.conftest.show_log_output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../_autosummary/test.integration.html">test.integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/test.integration.conftest.html">test.integration.conftest</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.conftest.auth_dir.html">test.integration.conftest.auth_dir</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.conftest.browser_callback.html">test.integration.conftest.browser_callback</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.conftest.chosen_date.html">test.integration.conftest.chosen_date</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.conftest.chosen_week.html">test.integration.conftest.chosen_week</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.conftest.data_dir.html">test.integration.conftest.data_dir</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.conftest.game_code.html">test.integration.conftest.game_code</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.conftest.game_id.html">test.integration.conftest.game_id</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.conftest.game_key.html">test.integration.conftest.game_key</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.conftest.league_id.html">test.integration.conftest.league_id</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.conftest.league_player_limit.html">test.integration.conftest.league_player_limit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.conftest.player_id.html">test.integration.conftest.player_id</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.conftest.player_key.html">test.integration.conftest.player_key</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.conftest.season.html">test.integration.conftest.season</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.conftest.team_id.html">test.integration.conftest.team_id</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.conftest.team_name.html">test.integration.conftest.team_name</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.conftest.yahoo_data.html">test.integration.conftest.yahoo_data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.conftest.yahoo_query.html">test.integration.conftest.yahoo_query</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/test.integration.test_api_game_data.html">test.integration.test_api_game_data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_game_data.test_get_all_yahoo_fantasy_game_keys.html">test.integration.test_api_game_data.test_get_all_yahoo_fantasy_game_keys</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_game_data.test_get_current_game_info.html">test.integration.test_api_game_data.test_get_current_game_info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_game_data.test_get_current_game_metadata.html">test.integration.test_api_game_data.test_get_current_game_metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_game_data.test_get_game_info_by_game_id.html">test.integration.test_api_game_data.test_get_game_info_by_game_id</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_game_data.test_get_game_key_by_season.html">test.integration.test_api_game_data.test_get_game_key_by_season</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_game_data.test_get_game_metadata_by_game_id.html">test.integration.test_api_game_data.test_get_game_metadata_by_game_id</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_game_data.test_get_game_position_types_by_game_id.html">test.integration.test_api_game_data.test_get_game_position_types_by_game_id</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_game_data.test_get_game_roster_positions_by_game_id.html">test.integration.test_api_game_data.test_get_game_roster_positions_by_game_id</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_game_data.test_get_game_stat_categories_by_game_id.html">test.integration.test_api_game_data.test_get_game_stat_categories_by_game_id</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_game_data.test_get_game_weeks_by_game_id.html">test.integration.test_api_game_data.test_get_game_weeks_by_game_id</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_game_data.test_get_league_key.html">test.integration.test_api_game_data.test_get_league_key</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/test.integration.test_api_league_data.html">test.integration.test_api_league_data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_league_data.test_get_league_draft_results.html">test.integration.test_api_league_data.test_get_league_draft_results</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_league_data.test_get_league_info.html">test.integration.test_api_league_data.test_get_league_info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_league_data.test_get_league_matchups_by_week.html">test.integration.test_api_league_data.test_get_league_matchups_by_week</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_league_data.test_get_league_metadata.html">test.integration.test_api_league_data.test_get_league_metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_league_data.test_get_league_players.html">test.integration.test_api_league_data.test_get_league_players</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_league_data.test_get_league_players_with_limit.html">test.integration.test_api_league_data.test_get_league_players_with_limit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_league_data.test_get_league_scoreboard_by_week.html">test.integration.test_api_league_data.test_get_league_scoreboard_by_week</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_league_data.test_get_league_settings.html">test.integration.test_api_league_data.test_get_league_settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_league_data.test_get_league_standings.html">test.integration.test_api_league_data.test_get_league_standings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_league_data.test_get_league_teams.html">test.integration.test_api_league_data.test_get_league_teams</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_league_data.test_get_league_transactions.html">test.integration.test_api_league_data.test_get_league_transactions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/test.integration.test_api_player_data.html">test.integration.test_api_player_data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_player_data.test_get_player_draft_analysis.html">test.integration.test_api_player_data.test_get_player_draft_analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_player_data.test_get_player_ownership.html">test.integration.test_api_player_data.test_get_player_ownership</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_player_data.test_get_player_percent_owned_by_week.html">test.integration.test_api_player_data.test_get_player_percent_owned_by_week</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_player_data.test_get_player_stats_by_date.html">test.integration.test_api_player_data.test_get_player_stats_by_date</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_player_data.test_get_player_stats_by_week.html">test.integration.test_api_player_data.test_get_player_stats_by_week</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_player_data.test_get_player_stats_for_season.html">test.integration.test_api_player_data.test_get_player_stats_for_season</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/test.integration.test_api_team_data.html">test.integration.test_api_team_data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_team_data.test_get_team_draft_results.html">test.integration.test_api_team_data.test_get_team_draft_results</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_team_data.test_get_team_info.html">test.integration.test_api_team_data.test_get_team_info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_team_data.test_get_team_matchups.html">test.integration.test_api_team_data.test_get_team_matchups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_team_data.test_get_team_metadata.html">test.integration.test_api_team_data.test_get_team_metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_team_data.test_get_team_roster_by_week.html">test.integration.test_api_team_data.test_get_team_roster_by_week</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_team_data.test_get_team_roster_player_info_by_date.html">test.integration.test_api_team_data.test_get_team_roster_player_info_by_date</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_team_data.test_get_team_roster_player_info_by_week.html">test.integration.test_api_team_data.test_get_team_roster_player_info_by_week</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_team_data.test_get_team_roster_player_stats.html">test.integration.test_api_team_data.test_get_team_roster_player_stats</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_team_data.test_get_team_roster_player_stats_by_week.html">test.integration.test_api_team_data.test_get_team_roster_player_stats_by_week</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_team_data.test_get_team_standings.html">test.integration.test_api_team_data.test_get_team_standings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_team_data.test_get_team_stats.html">test.integration.test_api_team_data.test_get_team_stats</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_team_data.test_get_team_stats_by_week.html">test.integration.test_api_team_data.test_get_team_stats_by_week</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/test.integration.test_api_user_data.html">test.integration.test_api_user_data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_user_data.test_get_current_user.html">test.integration.test_api_user_data.test_get_current_user</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_user_data.test_get_user_games.html">test.integration.test_api_user_data.test_get_user_games</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_user_data.test_get_user_leagues_by_game_id.html">test.integration.test_api_user_data.test_get_user_leagues_by_game_id</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.integration.test_api_user_data.test_get_user_teams.html">test.integration.test_api_user_data.test_get_user_teams</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../_autosummary/test.unit.html">test.unit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/test.unit.conftest.html">test.unit.conftest</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_autosummary/test.unit.test_utils.html">test.unit.test_utils</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.unit.test_utils.test_complex_json_handler.html">test.unit.test_utils.test_complex_json_handler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.unit.test_utils.test_convert_strings_to_numeric_equivalents.html">test.unit.test_utils.test_convert_strings_to_numeric_equivalents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.unit.test_utils.test_dict_to_list.html">test.unit.test_utils.test_dict_to_list</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.unit.test_utils.test_flatten_json_dict_list.html">test.unit.test_utils.test_flatten_json_dict_list</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.unit.test_utils.test_flatten_to_list.html">test.unit.test_utils.test_flatten_to_list</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.unit.test_utils.test_flatten_to_objects.html">test.unit.test_utils.test_flatten_to_objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.unit.test_utils.test_get_type.html">test.unit.test_utils.test_get_type</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.unit.test_utils.test_prettify_data.html">test.unit.test_utils.test_prettify_data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.unit.test_utils.test_reformat_json_list.html">test.unit.test_utils.test_reformat_json_list</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.unit.test_utils.test_reorganize_json_dict.html">test.unit.test_utils.test_reorganize_json_dict</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../_autosummary/test.unit.test_utils.test_unpack_data.html">test.unit.test_utils.test_unpack_data</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">YFPY</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Module code</a> &raquo;</li>
      <li>yfpy.query</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for yfpy.query</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;YFPY module for making Yahoo Fantasy Sports REST API queries.</span>

<span class="sd">This module provides all available Yahoo Fantasy Sports API queries as callable methods on the YahooFantasySportsQuery</span>
<span class="sd">    class.</span>

<span class="sd">Attributes:</span>
<span class="sd">    logger (Logger): Module level logger for usage and debugging.</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;Wren J. R. (uberfastman)&quot;</span>
<span class="n">__email__</span> <span class="o">=</span> <span class="s2">&quot;uberfastman@uberfastman.dev&quot;</span>

<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">json</span> <span class="kn">import</span> <span class="n">JSONDecodeError</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span><span class="p">,</span> <span class="n">PosixPath</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Union</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Type</span>

<span class="kn">from</span> <span class="nn">requests</span> <span class="kn">import</span> <span class="n">Response</span>
<span class="kn">from</span> <span class="nn">requests.exceptions</span> <span class="kn">import</span> <span class="n">HTTPError</span>
<span class="kn">from</span> <span class="nn">yahoo_oauth</span> <span class="kn">import</span> <span class="n">OAuth2</span>

<span class="kn">from</span> <span class="nn">yfpy.exceptions</span> <span class="kn">import</span> <span class="n">YahooFantasySportsDataNotFound</span>
<span class="kn">from</span> <span class="nn">yfpy.logger</span> <span class="kn">import</span> <span class="n">get_logger</span>
<span class="kn">from</span> <span class="nn">yfpy.models</span> <span class="kn">import</span> <span class="n">YahooFantasyObject</span><span class="p">,</span> <span class="n">DraftResult</span><span class="p">,</span> <span class="n">Game</span><span class="p">,</span> <span class="n">GameWeek</span><span class="p">,</span> <span class="n">User</span><span class="p">,</span> <span class="n">League</span><span class="p">,</span> <span class="n">Standings</span><span class="p">,</span> <span class="n">Settings</span><span class="p">,</span> <span class="n">Player</span><span class="p">,</span> \
    <span class="n">PositionType</span><span class="p">,</span> <span class="n">StatCategories</span><span class="p">,</span> <span class="n">Transaction</span><span class="p">,</span> <span class="n">Scoreboard</span><span class="p">,</span> <span class="n">Team</span><span class="p">,</span> <span class="n">TeamPoints</span><span class="p">,</span> <span class="n">TeamProjectedPoints</span><span class="p">,</span> <span class="n">TeamStandings</span><span class="p">,</span> \
    <span class="n">Roster</span><span class="p">,</span> <span class="n">RosterPosition</span><span class="p">,</span> <span class="n">Matchup</span>
<span class="kn">from</span> <span class="nn">yfpy.utils</span> <span class="kn">import</span> <span class="n">reformat_json_list</span><span class="p">,</span> <span class="n">unpack_data</span><span class="p">,</span> <span class="n">complex_json_handler</span><span class="p">,</span> <span class="n">prettify_data</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="c1"># suppress yahoo-oauth debug logging</span>
<span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;yahoo_oauth&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>


<span class="c1"># noinspection PyTypeChecker, PyUnresolvedReferences</span>
<div class="viewcode-block" id="YahooFantasySportsQuery"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery">[docs]</a><span class="k">class</span> <span class="nc">YahooFantasySportsQuery</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Yahoo Fantasy Sports REST API query CLASS to retrieve all types of fantasy sports data.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auth_dir</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span> <span class="n">league_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">game_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">game_code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;nfl&quot;</span><span class="p">,</span>
                 <span class="n">offline</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">all_output_as_json</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">consumer_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">consumer_secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">browser_callback</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Instantiate a YahooQueryObject for running queries against the Yahoo fantasy REST API.</span>

<span class="sd">        Args:</span>
<span class="sd">            auth_dir (Path | str): Location of both private.json (containing Yahoo dev app consumer_key and</span>
<span class="sd">                consumer_secret) and token.json (generated by OAuth2 three-legged handshake).</span>
<span class="sd">            league_id (str): League ID of selected Yahoo Fantasy league.</span>
<span class="sd">            game_id (:obj:`int`, optional): Game ID of selected Yahoo fantasy game corresponding to a specific year, and</span>
<span class="sd">                defaulting to the current year.</span>
<span class="sd">            game_code (:obj:`str`, optional): Game code of selected Yahoo Fantasy game corresponding to a specific year,</span>
<span class="sd">                and defaulting to &quot;nfl&quot; (fantasy football), &quot;nhl&quot; (fantasy hockey), &quot;mlb&quot; (fantasy baseball), or &quot;nba&quot;</span>
<span class="sd">                (fantasy basketball)</span>
<span class="sd">            offline (:obj:`bool`, optional): Boolean to run in offline mode (Only works if all needed Yahoo Fantasy data</span>
<span class="sd">                has been previously saved locally using the Data module in data.py).</span>
<span class="sd">            all_output_as_json (:obj:`bool`, optional): Option to automatically convert all query output to JSON</span>
<span class="sd">                strings.</span>
<span class="sd">            consumer_key (:obj:`str`, optional): User defined consumer key to use instead of values stored in the</span>
<span class="sd">                private.json file (must be defined alongside a user defined consumer secret).</span>
<span class="sd">            consumer_secret (:obj:`str`, optional): User defined consumer secret to use instead of values stored in the</span>
<span class="sd">                private.json file (must be defined alongside a user defined consumer key).</span>
<span class="sd">            browser_callback (:obj:`bool`, optional): Enable or disable (enabled by default) whether the yahoo-oauth</span>
<span class="sd">                library automatically opens a browser window to authenticate (if disabled, it will output the callback</span>
<span class="sd">                URL).</span>

<span class="sd">        Attributes:</span>
<span class="sd">            _auth_dir (Path): Location of both private.json (containing Yahoo dev app consumer_key and consumer_secret)</span>
<span class="sd">                and token.json (generated by OAuth2 three-legged handshake).</span>
<span class="sd">            _yahoo_consumer_key (str): User defined consumer key to use instead of values stored in the private.json</span>
<span class="sd">                file (must be defined alongside a user defined consumer secret).</span>
<span class="sd">            _yahoo_consumer_secret (str): User defined consumer secret to use instead of values stored in the</span>
<span class="sd">                private.json file (must be defined alongside a user defined consumer key).</span>
<span class="sd">            _yahoo_access_token (str): Refreshable access token generated by the yahoo-oauth library to avoid having to</span>
<span class="sd">                reauthenticate on every access to the Yahoo Fantasy Sports API.</span>
<span class="sd">            _browser_callback (bool): Enable or disable (enabled by default) whether the yahoo-oauth library</span>
<span class="sd">                automatically opens a browser window to authenticate (if disabled, it will output the callback URL).</span>
<span class="sd">            fantasy_content_data_field (str): The initial JSON field in which all Yahoo Fantasy Sports API responses</span>
<span class="sd">                store the data output of the submitted query.</span>
<span class="sd">            league_id (str): League ID of selected Yahoo Fantasy league.</span>
<span class="sd">            game_id (int): Game ID of selected Yahoo fantasy game corresponding to a specific year, and defaulting to</span>
<span class="sd">            the current year.</span>
<span class="sd">            game_code (str): Game code of selected Yahoo Fantasy game corresponding to a specific year, and defaulting</span>
<span class="sd">                to &quot;nfl&quot; (fantasy football), &quot;nhl&quot; (fantasy hockey), &quot;mlb&quot; (fantasy baseball), or &quot;nba&quot; (fantasy</span>
<span class="sd">                basketball)</span>
<span class="sd">            offline (bool): Boolean to run in offline mode (Only works if all needed Yahoo Fantasy data has been</span>
<span class="sd">                previously saved locally using the Data module in data.py).</span>
<span class="sd">            all_output_as_json (bool): Option to automatically convert all query output to JSON strings.</span>
<span class="sd">            league_key (str): The Yahoo Fantasy Sports league key formatted as &lt;game_id&gt;.l.&lt;league_id&gt;.</span>
<span class="sd">            executed_queries (list[dict[str, Any]]): List of completed queries and their responses.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_auth_dir</span> <span class="o">=</span> <span class="n">auth_dir</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">auth_dir</span><span class="p">)</span> <span class="o">==</span> <span class="n">PosixPath</span> <span class="k">else</span> <span class="n">Path</span><span class="p">(</span><span class="n">auth_dir</span><span class="p">)</span>  <span class="c1"># type: Path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_yahoo_consumer_key</span> <span class="o">=</span> <span class="n">consumer_key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_yahoo_consumer_secret</span> <span class="o">=</span> <span class="n">consumer_secret</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_yahoo_access_token</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_browser_callback</span> <span class="o">=</span> <span class="n">browser_callback</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fantasy_content_data_field</span> <span class="o">=</span> <span class="s2">&quot;fantasy_content&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">league_id</span> <span class="o">=</span> <span class="n">league_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">game_id</span> <span class="o">=</span> <span class="n">game_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">game_code</span> <span class="o">=</span> <span class="n">game_code</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">offline</span> <span class="o">=</span> <span class="n">offline</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">all_output_as_json</span> <span class="o">=</span> <span class="n">all_output_as_json</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">league_key</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">executed_queries</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">offline</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_authenticate</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_authenticate</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Authenticate with the Yahoo Fantasy Sports REST API.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Authenticating with Yahoo.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_yahoo_consumer_key</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_yahoo_consumer_secret</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_yahoo_consumer_key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_yahoo_consumer_key</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_yahoo_consumer_secret</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_yahoo_consumer_secret</span><span class="p">)</span>
            <span class="n">auth_info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;consumer_key&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_yahoo_consumer_key</span><span class="p">,</span> <span class="s2">&quot;consumer_secret&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_yahoo_consumer_secret</span><span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">private_json_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_auth_dir</span> <span class="o">/</span> <span class="s2">&quot;private.json&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_yahoo_consumer_key</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_yahoo_consumer_secret</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Must supply both the consumer key AND consumer secret to authenticate with user&quot;</span>
                               <span class="sa">f</span><span class="s2">&quot;defined credentials. Defaulting to credentials located in </span><span class="si">{</span><span class="n">private_json_path</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

            <span class="c1"># load credentials</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">private_json_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">yahoo_app_credentials</span><span class="p">:</span>
                <span class="n">auth_info</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">yahoo_app_credentials</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_yahoo_consumer_key</span> <span class="o">=</span> <span class="n">auth_info</span><span class="p">[</span><span class="s2">&quot;consumer_key&quot;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_yahoo_consumer_secret</span> <span class="o">=</span> <span class="n">auth_info</span><span class="p">[</span><span class="s2">&quot;consumer_secret&quot;</span><span class="p">]</span>

        <span class="c1"># load or create OAuth2 refresh token</span>
        <span class="n">token_file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_auth_dir</span> <span class="o">/</span> <span class="s2">&quot;token.json&quot;</span>
        <span class="k">if</span> <span class="n">token_file_path</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">token_file_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">yahoo_oauth_token</span><span class="p">:</span>
                <span class="n">auth_info</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">yahoo_oauth_token</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">token_file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">yahoo_oauth_token</span><span class="p">:</span>
                <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">auth_info</span><span class="p">,</span> <span class="n">yahoo_oauth_token</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;access_token&quot;</span> <span class="ow">in</span> <span class="n">auth_info</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_yahoo_access_token</span> <span class="o">=</span> <span class="n">auth_info</span><span class="p">[</span><span class="s2">&quot;access_token&quot;</span><span class="p">]</span>

        <span class="c1"># complete OAuth2 3-legged handshake by either refreshing existing token or requesting account access</span>
        <span class="c1"># and returning a verification code to input to the command line prompt</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">oauth</span> <span class="o">=</span> <span class="n">OAuth2</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">from_file</span><span class="o">=</span><span class="n">token_file_path</span><span class="p">,</span> <span class="n">browser_callback</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_browser_callback</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">oauth</span><span class="o">.</span><span class="n">token_is_valid</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">oauth</span><span class="o">.</span><span class="n">refresh_access_token</span><span class="p">()</span>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_response"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_response">[docs]</a>    <span class="k">def</span> <span class="nf">get_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">retries</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">backoff</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Response</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve Yahoo Fantasy Sports data from the REST API.</span>

<span class="sd">        Args:</span>
<span class="sd">            url (str): REST API request URL string.</span>
<span class="sd">            retries (:obj:`int`, optional): Number of times to retry a query if it fails (defaults to 3).</span>
<span class="sd">            backoff (:obj:`int`, optional): Multiplier that incrementally increases the wait time before retrying a</span>
<span class="sd">                failed query request.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Response: API response from Yahoo Fantasy Sports API request.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Making request to URL: </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">oauth</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;json&quot;</span><span class="p">})</span>  <span class="c1"># type: Response</span>

        <span class="n">status_code</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span>
        <span class="c1"># when you exceed Yahoo&#39;s allowed data request limits, they throw a request status code of 999</span>
        <span class="k">if</span> <span class="n">status_code</span> <span class="o">==</span> <span class="mi">999</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPError</span><span class="p">(</span><span class="s2">&quot;Yahoo data unavailable due to rate limiting. Please try again later.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">status_code</span> <span class="o">==</span> <span class="mi">401</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_authenticate</span><span class="p">()</span>

        <span class="n">response_json</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response_json</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Response (JSON): </span><span class="si">{</span><span class="n">response_json</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">JSONDecodeError</span><span class="p">:</span>
            <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">status_code</span> <span class="o">//</span> <span class="mi">100</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
                <span class="c1"># handle if the yahoo query returns an error</span>
                <span class="k">if</span> <span class="n">response_json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">):</span>
                    <span class="n">response_error_msg</span> <span class="o">=</span> <span class="n">response_json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">)</span>
                    <span class="n">error_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Attempt to retrieve data at URL </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2"> failed with error: &quot;</span> \
                                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\&quot;</span><span class="si">{</span><span class="n">response_error_msg</span><span class="si">}</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error_msg</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">YahooFantasySportsDataNotFound</span><span class="p">(</span><span class="n">error_msg</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

            <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>

        <span class="k">except</span> <span class="n">HTTPError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="c1"># retry with incremental back-off</span>
            <span class="k">if</span> <span class="n">retries</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">retries</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="n">backoff</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Request for URL </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2"> failed with status code </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2">. &quot;</span>
                               <span class="sa">f</span><span class="s2">&quot;Retrying </span><span class="si">{</span><span class="n">retries</span><span class="si">}</span><span class="s2"> more time</span><span class="si">{</span><span class="s1">&#39;s&#39;</span> <span class="k">if</span> <span class="n">retries</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.3</span> <span class="o">*</span> <span class="n">backoff</span><span class="p">)</span>
                <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_response</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">retries</span><span class="p">,</span> <span class="n">backoff</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># log error and terminate query if status code is not 200 after 3 retries</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Request failed with status code: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>

        <span class="n">raw_response_data</span> <span class="o">=</span> <span class="n">response_json</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fantasy_content_data_field</span><span class="p">)</span>

        <span class="c1"># extract data from &quot;fantasy_content&quot; field if it exists</span>
        <span class="k">if</span> <span class="n">raw_response_data</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Data fetched with query URL: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Response (Yahoo fantasy data extracted from: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fantasy_content_data_field</span><span class="si">}</span><span class="se">\&quot;</span><span class="s2">): </span><span class="si">{</span><span class="n">raw_response_data</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">error_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;No data found at URL </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2"> when attempting extraction from field: &quot;</span> \
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fantasy_content_data_field</span><span class="si">}</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error_msg</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">YahooFantasySportsDataNotFound</span><span class="p">(</span><span class="n">error_msg</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">response</span></div>

    <span class="c1"># noinspection GrazieInspection</span>
<div class="viewcode-block" id="YahooFantasySportsQuery.query"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.query">[docs]</a>    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data_key_list</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]],</span> <span class="n">data_type_class</span><span class="p">:</span> <span class="n">Type</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span>
            <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">YahooFantasyObject</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">YahooFantasyObject</span><span class="p">],</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">YahooFantasyObject</span><span class="p">]]):</span>
        <span class="sd">&quot;&quot;&quot;Base query class to retrieve requested data from the Yahoo fantasy sports REST API.</span>

<span class="sd">        Args:</span>
<span class="sd">            url (str): REST API request URL string.</span>
<span class="sd">            data_key_list (list[str] | list[list[str]]): List of keys used to extract the specific data desired by the</span>
<span class="sd">                given query (supports strings and lists of strings). Supports lists containing only key strings such as</span>
<span class="sd">                [&quot;game&quot;, &quot;stat_categories&quot;], and also supports lists containing key strings and lists of key strings</span>
<span class="sd">                such as [&quot;team&quot;, [&quot;team_points&quot;, &quot;team_projected_points&quot;]].</span>
<span class="sd">            data_type_class (:obj:`Type`, optional): Highest level data model type (if one exists for the retrieved</span>
<span class="sd">                data).</span>

<span class="sd">        Returns:</span>
<span class="sd">            object: Model class instance from yfpy/models.py, dictionary, or list (depending on query), with unpacked</span>
<span class="sd">            and parsed response data.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">offline</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_response</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">raw_response_data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fantasy_content_data_field</span><span class="p">)</span>

            <span class="c1"># iterate through list of data keys and drill down to final desired data field</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data_key_list</span><span class="p">)):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">raw_response_data</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data_key_list</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="nb">list</span><span class="p">):</span>
                        <span class="n">reformatted</span> <span class="o">=</span> <span class="n">reformat_json_list</span><span class="p">(</span><span class="n">raw_response_data</span><span class="p">)</span>
                        <span class="n">raw_response_data</span> <span class="o">=</span> <span class="p">[</span>
                            <span class="p">{</span><span class="n">data_key_list</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span> <span class="n">reformatted</span><span class="p">[</span><span class="n">data_key_list</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]]},</span>
                            <span class="p">{</span><span class="n">data_key_list</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]:</span> <span class="n">reformatted</span><span class="p">[</span><span class="n">data_key_list</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]]}</span>
                        <span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">raw_response_data</span> <span class="o">=</span> <span class="n">reformat_json_list</span><span class="p">(</span><span class="n">raw_response_data</span><span class="p">)[</span><span class="n">data_key_list</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data_key_list</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="nb">list</span><span class="p">):</span>
                        <span class="n">raw_response_data</span> <span class="o">=</span> <span class="p">[</span>
                            <span class="p">{</span><span class="n">data_key_list</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span> <span class="n">raw_response_data</span><span class="p">[</span><span class="n">data_key_list</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]]},</span>
                            <span class="p">{</span><span class="n">data_key_list</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]:</span> <span class="n">raw_response_data</span><span class="p">[</span><span class="n">data_key_list</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]]}</span>
                        <span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">raw_response_data</span> <span class="o">=</span> <span class="n">raw_response_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">data_key_list</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

            <span class="k">if</span> <span class="n">raw_response_data</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Response (Yahoo fantasy data extracted from: </span><span class="si">{</span><span class="n">data_key_list</span><span class="si">}</span><span class="s2">): </span><span class="si">{</span><span class="n">raw_response_data</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">error_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;No data found when attempting extraction from fields: </span><span class="si">{</span><span class="n">data_key_list</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error_msg</span><span class="p">)</span>
                <span class="k">raise</span> <span class="n">YahooFantasySportsDataNotFound</span><span class="p">(</span><span class="n">error_msg</span><span class="p">,</span> <span class="n">payload</span><span class="o">=</span><span class="n">data_key_list</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

            <span class="c1"># unpack, parse, and assign data types to all retrieved data content</span>
            <span class="n">unpacked</span> <span class="o">=</span> <span class="n">unpack_data</span><span class="p">(</span><span class="n">raw_response_data</span><span class="p">,</span> <span class="n">YahooFantasyObject</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unpacked and parsed JSON (Yahoo fantasy data wth parent type: </span><span class="si">{</span><span class="n">data_type_class</span><span class="si">}</span><span class="s2">):</span><span class="se">\n</span><span class="si">{</span><span class="n">unpacked</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">executed_queries</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">response</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
                <span class="s2">&quot;response_status_code&quot;</span><span class="p">:</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span>
                <span class="s2">&quot;response&quot;</span><span class="p">:</span> <span class="n">response</span>
            <span class="p">})</span>

            <span class="c1"># cast the highest level of data to type corresponding to query (if type exists)</span>
            <span class="n">query_data</span> <span class="o">=</span> <span class="n">data_type_class</span><span class="p">(</span><span class="n">unpacked</span><span class="p">)</span> <span class="k">if</span> <span class="n">data_type_class</span> <span class="k">else</span> <span class="n">unpacked</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_output_as_json</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">query_data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">complex_json_handler</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">query_data</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Cannot run Yahoo query while using offline mode! Please try again with offline=False.&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_all_yahoo_fantasy_game_keys"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_all_yahoo_fantasy_game_keys">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_yahoo_fantasy_game_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Game</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve all Yahoo Fantasy Sports game keys by ID (from year of inception to present), sorted by season/year.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_all_yahoo_fantasy_game_keys()</span>
<span class="sd">            [</span>
<span class="sd">              {</span>
<span class="sd">                &quot;game&quot;: {</span>
<span class="sd">                  &quot;code&quot;: &quot;nfl&quot;,</span>
<span class="sd">                  &quot;game_id&quot;: &quot;50&quot;,</span>
<span class="sd">                  &quot;game_key&quot;: &quot;50&quot;,</span>
<span class="sd">                  &quot;is_game_over&quot;: 1,</span>
<span class="sd">                  &quot;is_offseason&quot;: 1,</span>
<span class="sd">                  &quot;is_registration_over&quot;: 1,</span>
<span class="sd">                  &quot;name&quot;: &quot;Football&quot;,</span>
<span class="sd">                  &quot;season&quot;: &quot;1999&quot;,</span>
<span class="sd">                  &quot;type&quot;: &quot;full&quot;,</span>
<span class="sd">                  &quot;url&quot;: &quot;https://football.fantasysports.yahoo.com/archive/nfl/1999&quot;</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              ...</span>
<span class="sd">            ]</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[Game]: List of YFPY Game instances.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/games;game_codes=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">game_code</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="p">[</span><span class="s2">&quot;games&quot;</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;game&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">season</span>
        <span class="p">)</span></div>

    <span class="c1"># noinspection PyUnresolvedReferences</span>
<div class="viewcode-block" id="YahooFantasySportsQuery.get_game_key_by_season"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_game_key_by_season">[docs]</a>    <span class="k">def</span> <span class="nf">get_game_key_by_season</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">season</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve specific game key by season.</span>

<span class="sd">        Args:</span>
<span class="sd">            season (int): User defined season/year for which to retrieve the Yahoo Fantasy Sports game.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_game_key_by_season(2021)</span>
<span class="sd">            338</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The game key for a Yahoo Fantasy Sports game specified by season.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/games;game_codes=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">game_code</span><span class="si">}</span><span class="s2">;seasons=</span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;games&quot;</span><span class="p">]</span>
        <span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;game&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">game_key</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_current_game_info"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_current_game_info">[docs]</a>    <span class="k">def</span> <span class="nf">get_current_game_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Game</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve game info for current fantasy season.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_current_game_info()</span>
<span class="sd">            {</span>
<span class="sd">              &quot;code&quot;: &quot;nfl&quot;,</span>
<span class="sd">              &quot;game_id&quot;: &quot;390&quot;,</span>
<span class="sd">              &quot;game_key&quot;: &quot;390&quot;,</span>
<span class="sd">              &quot;game_weeks&quot;: [</span>
<span class="sd">                {</span>
<span class="sd">                  &quot;game_week&quot;: {</span>
<span class="sd">                    &quot;display_name&quot;: &quot;1&quot;,</span>
<span class="sd">                    &quot;end&quot;: &quot;2019-09-09&quot;,</span>
<span class="sd">                    &quot;start&quot;: &quot;2019-09-05&quot;,</span>
<span class="sd">                    &quot;week&quot;: &quot;1&quot;</span>
<span class="sd">                  }</span>
<span class="sd">                },</span>
<span class="sd">                ...</span>
<span class="sd">              ],</span>
<span class="sd">              &quot;is_game_over&quot;: 0,</span>
<span class="sd">              &quot;is_live_draft_lobby_active&quot;: 1,</span>
<span class="sd">              &quot;is_offseason&quot;: 0,</span>
<span class="sd">              &quot;is_registration_over&quot;: 0,</span>
<span class="sd">              &quot;name&quot;: &quot;Football&quot;,</span>
<span class="sd">              &quot;position_types&quot;: [</span>
<span class="sd">                {</span>
<span class="sd">                  &quot;position_type&quot;: {</span>
<span class="sd">                    &quot;type&quot;: &quot;O&quot;,</span>
<span class="sd">                    &quot;display_name&quot;: &quot;Offense&quot;</span>
<span class="sd">                  }</span>
<span class="sd">                },</span>
<span class="sd">                ...</span>
<span class="sd">              ],</span>
<span class="sd">              &quot;roster_positions&quot;: [</span>
<span class="sd">                {</span>
<span class="sd">                  &quot;roster_position&quot;: {</span>
<span class="sd">                    &quot;position&quot;: &quot;QB&quot;,</span>
<span class="sd">                    &quot;position_type&quot;: &quot;O&quot;</span>
<span class="sd">                  }</span>
<span class="sd">                },</span>
<span class="sd">                ...</span>
<span class="sd">              ],</span>
<span class="sd">              &quot;season&quot;: &quot;2019&quot;,</span>
<span class="sd">              &quot;stat_categories&quot;: {</span>
<span class="sd">                &quot;stats&quot;: [</span>
<span class="sd">                  {</span>
<span class="sd">                    &quot;stat&quot;: {</span>
<span class="sd">                      &quot;display_name&quot;: &quot;GP&quot;,</span>
<span class="sd">                      &quot;name&quot;: &quot;Games Played&quot;,</span>
<span class="sd">                      &quot;sort_order&quot;: &quot;1&quot;,</span>
<span class="sd">                      &quot;stat_id&quot;: 0</span>
<span class="sd">                    }</span>
<span class="sd">                  },</span>
<span class="sd">                  ...</span>
<span class="sd">              },</span>
<span class="sd">              &quot;type&quot;: &quot;full&quot;,</span>
<span class="sd">              &quot;url&quot;: &quot;https://football.fantasysports.yahoo.com/f1&quot;</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            Game: YFPY Game instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/game/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">game_code</span><span class="si">}</span><span class="s2">;&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;out=metadata,players,game_weeks,stat_categories,position_types,roster_positions&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">],</span>
            <span class="n">Game</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_current_game_metadata"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_current_game_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">get_current_game_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Game</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve game metadata for current fantasy season.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_current_game_metadata()</span>
<span class="sd">            {</span>
<span class="sd">              &quot;code&quot;: &quot;nfl&quot;,</span>
<span class="sd">              &quot;game_id&quot;: &quot;390&quot;,</span>
<span class="sd">              &quot;game_key&quot;: &quot;390&quot;,</span>
<span class="sd">              &quot;is_game_over&quot;: 0,</span>
<span class="sd">              &quot;is_live_draft_lobby_active&quot;: 1,</span>
<span class="sd">              &quot;is_offseason&quot;: 0,</span>
<span class="sd">              &quot;is_registration_over&quot;: 0,</span>
<span class="sd">              &quot;name&quot;: &quot;Football&quot;,</span>
<span class="sd">              &quot;season&quot;: &quot;2019&quot;,</span>
<span class="sd">              &quot;type&quot;: &quot;full&quot;,</span>
<span class="sd">              &quot;url&quot;: &quot;https://football.fantasysports.yahoo.com/f1&quot;</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            Game: YFPY Game instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/game/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">game_code</span><span class="si">}</span><span class="s2">/metadata&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">],</span>
            <span class="n">Game</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_game_info_by_game_id"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_game_info_by_game_id">[docs]</a>    <span class="k">def</span> <span class="nf">get_game_info_by_game_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Game</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve game info for specific game by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            game_id (int): Game ID of selected Yahoo Fantasy game corresponding to a specific year.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_game_info_by_game_id(390)</span>
<span class="sd">            {</span>
<span class="sd">              &quot;code&quot;: &quot;nfl&quot;,</span>
<span class="sd">              &quot;game_id&quot;: &quot;390&quot;,</span>
<span class="sd">              &quot;game_key&quot;: &quot;390&quot;,</span>
<span class="sd">              &quot;game_weeks&quot;: [</span>
<span class="sd">                {</span>
<span class="sd">                  &quot;game_week&quot;: {</span>
<span class="sd">                    &quot;display_name&quot;: &quot;1&quot;,</span>
<span class="sd">                    &quot;end&quot;: &quot;2019-09-09&quot;,</span>
<span class="sd">                    &quot;start&quot;: &quot;2019-09-05&quot;,</span>
<span class="sd">                    &quot;week&quot;: &quot;1&quot;</span>
<span class="sd">                  }</span>
<span class="sd">                },</span>
<span class="sd">                ...</span>
<span class="sd">              ],</span>
<span class="sd">              &quot;is_game_over&quot;: 0,</span>
<span class="sd">              &quot;is_live_draft_lobby_active&quot;: 1,</span>
<span class="sd">              &quot;is_offseason&quot;: 0,</span>
<span class="sd">              &quot;is_registration_over&quot;: 0,</span>
<span class="sd">              &quot;name&quot;: &quot;Football&quot;,</span>
<span class="sd">              &quot;position_types&quot;: [</span>
<span class="sd">                {</span>
<span class="sd">                  &quot;position_type&quot;: {</span>
<span class="sd">                    &quot;type&quot;: &quot;O&quot;,</span>
<span class="sd">                    &quot;display_name&quot;: &quot;Offense&quot;</span>
<span class="sd">                  }</span>
<span class="sd">                },</span>
<span class="sd">                ...</span>
<span class="sd">              ],</span>
<span class="sd">              &quot;roster_positions&quot;: [</span>
<span class="sd">                {</span>
<span class="sd">                  &quot;roster_position&quot;: {</span>
<span class="sd">                    &quot;position&quot;: &quot;QB&quot;,</span>
<span class="sd">                    &quot;position_type&quot;: &quot;O&quot;</span>
<span class="sd">                  }</span>
<span class="sd">                },</span>
<span class="sd">                ...</span>
<span class="sd">              ],</span>
<span class="sd">              &quot;season&quot;: &quot;2019&quot;,</span>
<span class="sd">              &quot;stat_categories&quot;: {</span>
<span class="sd">                &quot;stats&quot;: [</span>
<span class="sd">                  {</span>
<span class="sd">                    &quot;stat&quot;: {</span>
<span class="sd">                      &quot;display_name&quot;: &quot;GP&quot;,</span>
<span class="sd">                      &quot;name&quot;: &quot;Games Played&quot;,</span>
<span class="sd">                      &quot;sort_order&quot;: &quot;1&quot;,</span>
<span class="sd">                      &quot;stat_id&quot;: 0</span>
<span class="sd">                    }</span>
<span class="sd">                  },</span>
<span class="sd">                  ...</span>
<span class="sd">              },</span>
<span class="sd">              &quot;type&quot;: &quot;full&quot;,</span>
<span class="sd">              &quot;url&quot;: &quot;https://football.fantasysports.yahoo.com/f1&quot;</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            Game: YFPY Game instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/game/</span><span class="si">{</span><span class="n">game_id</span><span class="si">}</span><span class="s2">;&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;out=metadata,players,game_weeks,stat_categories,position_types,roster_positions&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">],</span>
            <span class="n">Game</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_game_metadata_by_game_id"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_game_metadata_by_game_id">[docs]</a>    <span class="k">def</span> <span class="nf">get_game_metadata_by_game_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Game</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve game metadata for specific game by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            game_id (int): Game ID of selected Yahoo Fantasy game corresponding to a specific year.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_game_metadata_by_game_id(331)</span>
<span class="sd">            {</span>
<span class="sd">              &quot;code&quot;: &quot;nfl&quot;,</span>
<span class="sd">              &quot;game_id&quot;: &quot;331&quot;,</span>
<span class="sd">              &quot;game_key&quot;: &quot;331&quot;,</span>
<span class="sd">              &quot;is_game_over&quot;: 1,</span>
<span class="sd">              &quot;is_offseason&quot;: 1,</span>
<span class="sd">              &quot;is_registration_over&quot;: 1,</span>
<span class="sd">              &quot;name&quot;: &quot;Football&quot;,</span>
<span class="sd">              &quot;season&quot;: &quot;2014&quot;,</span>
<span class="sd">              &quot;type&quot;: &quot;full&quot;,</span>
<span class="sd">              &quot;url&quot;: &quot;https://football.fantasysports.yahoo.com/archive/nfl/2014&quot;</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            Game: YFPY Game instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/game/</span><span class="si">{</span><span class="n">game_id</span><span class="si">}</span><span class="s2">/metadata&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">],</span>
            <span class="n">Game</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_game_weeks_by_game_id"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_game_weeks_by_game_id">[docs]</a>    <span class="k">def</span> <span class="nf">get_game_weeks_by_game_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">GameWeek</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve all valid weeks of a specific game by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            game_id (int): Game ID of selected Yahoo Fantasy game corresponding to a specific year.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_game_weeks_by_game_id(331)</span>
<span class="sd">            [</span>
<span class="sd">              {</span>
<span class="sd">                &quot;game_week&quot;: {</span>
<span class="sd">                  &quot;display_name&quot;: &quot;1&quot;,</span>
<span class="sd">                  &quot;end&quot;: &quot;2014-09-08&quot;,</span>
<span class="sd">                  &quot;start&quot;: &quot;2014-09-04&quot;,</span>
<span class="sd">                  &quot;week&quot;: &quot;1&quot;</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              ...,</span>
<span class="sd">              {</span>
<span class="sd">                &quot;game_week&quot;: {</span>
<span class="sd">                  &quot;display_name&quot;: &quot;17&quot;,</span>
<span class="sd">                  &quot;end&quot;: &quot;2014-12-28&quot;,</span>
<span class="sd">                  &quot;start&quot;: &quot;2014-12-23&quot;,</span>
<span class="sd">                  &quot;week&quot;: &quot;17&quot;</span>
<span class="sd">                }</span>
<span class="sd">              }</span>
<span class="sd">            ]</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[GameWeek]: List of YFPY GameWeek instances.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/game/</span><span class="si">{</span><span class="n">game_id</span><span class="si">}</span><span class="s2">/game_weeks&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">,</span> <span class="s2">&quot;game_weeks&quot;</span><span class="p">]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_game_stat_categories_by_game_id"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_game_stat_categories_by_game_id">[docs]</a>    <span class="k">def</span> <span class="nf">get_game_stat_categories_by_game_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StatCategories</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve all valid stat categories of a specific game by ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            game_id (int): Game ID of selected Yahoo Fantasy game corresponding to a specific year.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_game_stat_categories_by_game_id(331)</span>
<span class="sd">            {</span>
<span class="sd">              &quot;stats&quot;: [</span>
<span class="sd">                {</span>
<span class="sd">                  &quot;stat&quot;: {</span>
<span class="sd">                    &quot;display_name&quot;: &quot;GP&quot;,</span>
<span class="sd">                    &quot;name&quot;: &quot;Games Played&quot;,</span>
<span class="sd">                    &quot;sort_order&quot;: &quot;1&quot;,</span>
<span class="sd">                    &quot;stat_id&quot;: 0</span>
<span class="sd">                  }</span>
<span class="sd">                },</span>
<span class="sd">                ...,</span>
<span class="sd">                {</span>
<span class="sd">                  &quot;stat&quot;: {</span>
<span class="sd">                    &quot;display_name&quot;: &quot;Rush 1st Downs&quot;,</span>
<span class="sd">                    &quot;name&quot;: &quot;Rushing 1st Downs&quot;,</span>
<span class="sd">                    &quot;sort_order&quot;: &quot;1&quot;,</span>
<span class="sd">                    &quot;stat_id&quot;: 81</span>
<span class="sd">                  }</span>
<span class="sd">                }</span>
<span class="sd">              ]</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            StatCategories: YFPY StatCategories instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/game/</span><span class="si">{</span><span class="n">game_id</span><span class="si">}</span><span class="s2">/stat_categories&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">,</span> <span class="s2">&quot;stat_categories&quot;</span><span class="p">],</span>
            <span class="n">StatCategories</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_game_position_types_by_game_id"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_game_position_types_by_game_id">[docs]</a>    <span class="k">def</span> <span class="nf">get_game_position_types_by_game_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PositionType</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve all valid position types for specific game by ID sorted alphabetically by type.</span>

<span class="sd">        Args:</span>
<span class="sd">            game_id (int): Game ID of selected Yahoo Fantasy game corresponding to a specific year.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_game_position_types_by_game_id(331)</span>
<span class="sd">            [</span>
<span class="sd">              {</span>
<span class="sd">                &quot;position_type&quot;: {</span>
<span class="sd">                  &quot;type&quot;: &quot;O&quot;,</span>
<span class="sd">                  &quot;display_name&quot;: &quot;Offense&quot;</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              {</span>
<span class="sd">                &quot;position_type&quot;: {</span>
<span class="sd">                  &quot;type&quot;: &quot;K&quot;,</span>
<span class="sd">                  &quot;display_name&quot;: &quot;Kickers&quot;</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              {</span>
<span class="sd">                &quot;position_type&quot;: {</span>
<span class="sd">                  &quot;type&quot;: &quot;DT&quot;,</span>
<span class="sd">                  &quot;display_name&quot;: &quot;Defense/Special Teams&quot;</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              {</span>
<span class="sd">                &quot;position_type&quot;: {</span>
<span class="sd">                  &quot;type&quot;: &quot;DP&quot;,</span>
<span class="sd">                  &quot;display_name&quot;: &quot;Defensive Players&quot;</span>
<span class="sd">                }</span>
<span class="sd">              }</span>
<span class="sd">            ]</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[PositionType]: List of YFPY PositionType instances.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/game/</span><span class="si">{</span><span class="n">game_id</span><span class="si">}</span><span class="s2">/position_types&quot;</span><span class="p">,</span>
                <span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">,</span> <span class="s2">&quot;position_types&quot;</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;position_type&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">type</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_game_roster_positions_by_game_id"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_game_roster_positions_by_game_id">[docs]</a>    <span class="k">def</span> <span class="nf">get_game_roster_positions_by_game_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">RosterPosition</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve all valid roster positions for specific game by ID sorted alphabetically by position.</span>

<span class="sd">        Args:</span>
<span class="sd">            game_id (int): Game ID of selected Yahoo Fantasy game corresponding to a specific year.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_game_roster_positions_by_game_id(331)</span>
<span class="sd">            [</span>
<span class="sd">              {</span>
<span class="sd">                &quot;roster_position&quot;: {</span>
<span class="sd">                  &quot;position&quot;: &quot;BN&quot;</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              ...,</span>
<span class="sd">              {</span>
<span class="sd">                &quot;roster_position&quot;: {</span>
<span class="sd">                  &quot;position&quot;: &quot;WR&quot;,</span>
<span class="sd">                  &quot;position_type&quot;: &quot;O&quot;</span>
<span class="sd">                }</span>
<span class="sd">              }</span>
<span class="sd">            ]</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[RosterPosition]: List of YFPY RosterPosition instances.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/game/</span><span class="si">{</span><span class="n">game_id</span><span class="si">}</span><span class="s2">/roster_positions&quot;</span><span class="p">,</span>
                <span class="p">[</span><span class="s2">&quot;game&quot;</span><span class="p">,</span> <span class="s2">&quot;roster_positions&quot;</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;roster_position&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">position</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_league_key"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_league_key">[docs]</a>    <span class="k">def</span> <span class="nf">get_league_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">season</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve league key for selected league.</span>

<span class="sd">        Args:</span>
<span class="sd">            season (int): User defined season/year for which to retrieve the Yahoo Fantasy Sports league key.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_league_key(2021)</span>
<span class="sd">            331.l.729259</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: League key string for selected league.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">league_key</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">season</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_game_key_by_season</span><span class="p">(</span><span class="n">season</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.l.&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">league_id</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_id</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_game_metadata_by_game_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">game_id</span><span class="p">)</span><span class="o">.</span><span class="n">game_key</span> <span class="o">+</span> <span class="s2">&quot;.l.&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">league_id</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;No game id or season/year provided, defaulting to current fantasy season.&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current_game_metadata</span><span class="p">()</span><span class="o">.</span><span class="n">game_key</span> <span class="o">+</span> <span class="s2">&quot;.l.&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">league_id</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">league_key</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_current_user"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_current_user">[docs]</a>    <span class="k">def</span> <span class="nf">get_current_user</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">User</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve metadata for current logged-in user.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_current_user()</span>
<span class="sd">            {</span>
<span class="sd">              &quot;guid&quot;: &quot;USER_GUID_STRING&quot;</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            User: YFPY User instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/users;use_login=1/&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;users&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;user&quot;</span><span class="p">],</span>
            <span class="n">User</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_user_games"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_user_games">[docs]</a>    <span class="k">def</span> <span class="nf">get_user_games</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Game</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve game history for current logged-in user sorted by season/year.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_user_games()</span>
<span class="sd">            [</span>
<span class="sd">              {</span>
<span class="sd">                &quot;game&quot;: {</span>
<span class="sd">                  &quot;code&quot;: &quot;nfl&quot;,</span>
<span class="sd">                  &quot;game_id&quot;: &quot;359&quot;,</span>
<span class="sd">                  &quot;game_key&quot;: &quot;359&quot;,</span>
<span class="sd">                  &quot;is_game_over&quot;: 1,</span>
<span class="sd">                  &quot;is_offseason&quot;: 1,</span>
<span class="sd">                  &quot;is_registration_over&quot;: 1,</span>
<span class="sd">                  &quot;name&quot;: &quot;Football&quot;,</span>
<span class="sd">                  &quot;season&quot;: &quot;2016&quot;,</span>
<span class="sd">                  &quot;type&quot;: &quot;full&quot;,</span>
<span class="sd">                  &quot;url&quot;: &quot;https://football.fantasysports.yahoo.com/archive/nfl/2016&quot;</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              ...</span>
<span class="sd">            ]</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[Game]: List of YFPY Game instances.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/users;use_login=1/games;codes=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">game_code</span><span class="si">}</span><span class="s2">/&quot;</span><span class="p">,</span>
                <span class="p">[</span><span class="s2">&quot;users&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;games&quot;</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;game&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">season</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_user_leagues_by_game_key"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_user_leagues_by_game_key">[docs]</a>    <span class="k">def</span> <span class="nf">get_user_leagues_by_game_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game_key</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">League</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve league history for current logged-in user for specific game by ID sorted by season/year.</span>

<span class="sd">        Args:</span>
<span class="sd">            game_key (int): The game_id for a specific Yahoo Fantasy game.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_user_leagues_by_game_key(331)</span>
<span class="sd">            [</span>
<span class="sd">              {</span>
<span class="sd">                &quot;league&quot;: {</span>
<span class="sd">                  &quot;allow_add_to_dl_extra_pos&quot;: 0,</span>
<span class="sd">                  &quot;current_week&quot;: &quot;16&quot;,</span>
<span class="sd">                  &quot;draft_status&quot;: &quot;postdraft&quot;,</span>
<span class="sd">                  &quot;edit_key&quot;: &quot;16&quot;,</span>
<span class="sd">                  &quot;end_date&quot;: &quot;2018-12-24&quot;,</span>
<span class="sd">                  &quot;end_week&quot;: &quot;16&quot;,</span>
<span class="sd">                  &quot;game_code&quot;: &quot;nfl&quot;,</span>
<span class="sd">                  &quot;iris_group_chat_id&quot;: &quot;&lt;group chat id&gt;&quot;,</span>
<span class="sd">                  &quot;is_cash_league&quot;: &quot;0&quot;,</span>
<span class="sd">                  &quot;is_finished&quot;: 1,</span>
<span class="sd">                  &quot;is_pro_league&quot;: &quot;0&quot;,</span>
<span class="sd">                  &quot;league_id&quot;: &quot;169896&quot;,</span>
<span class="sd">                  &quot;league_key&quot;: &quot;380.l.169896&quot;,</span>
<span class="sd">                  &quot;league_type&quot;: &quot;private&quot;,</span>
<span class="sd">                  &quot;league_update_timestamp&quot;: &quot;1546498723&quot;,</span>
<span class="sd">                  &quot;logo_url&quot;: &quot;&lt;logo url&gt;&quot;,</span>
<span class="sd">                  &quot;name&quot;: &quot;League Name&quot;,</span>
<span class="sd">                  &quot;num_teams&quot;: 12,</span>
<span class="sd">                  &quot;password&quot;: null,</span>
<span class="sd">                  &quot;renew&quot;: &quot;371_52364&quot;,</span>
<span class="sd">                  &quot;renewed&quot;: &quot;390_78725&quot;,</span>
<span class="sd">                  &quot;scoring_type&quot;: &quot;head&quot;,</span>
<span class="sd">                  &quot;season&quot;: &quot;2018&quot;,</span>
<span class="sd">                  &quot;short_invitation_url&quot;: &quot;&lt;invite url&gt;&quot;,</span>
<span class="sd">                  &quot;start_date&quot;: &quot;2018-09-06&quot;,</span>
<span class="sd">                  &quot;start_week&quot;: &quot;1&quot;,</span>
<span class="sd">                  &quot;url&quot;: &quot;&lt;league url&gt;&quot;,</span>
<span class="sd">                  &quot;weekly_deadline&quot;: null</span>
<span class="sd">                }</span>
<span class="sd">              }</span>
<span class="sd">            ]</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[League]: List of YFPY League instances.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">leagues</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/users;use_login=1/games;game_keys=</span><span class="si">{</span><span class="n">game_key</span><span class="si">}</span><span class="s2">/leagues/&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;users&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;games&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;game&quot;</span><span class="p">,</span> <span class="s2">&quot;leagues&quot;</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">leagues</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">leagues</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;league&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">season</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">leagues</span><span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_user_teams"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_user_teams">[docs]</a>    <span class="k">def</span> <span class="nf">get_user_teams</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Game</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve teams for all leagues for current logged-in user for current game sorted by season/year.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_user_teams()</span>
<span class="sd">            [</span>
<span class="sd">              {</span>
<span class="sd">                &quot;game&quot;: {</span>
<span class="sd">                  &quot;code&quot;: &quot;nfl&quot;,</span>
<span class="sd">                  &quot;game_id&quot;: &quot;359&quot;,</span>
<span class="sd">                  &quot;game_key&quot;: &quot;359&quot;,</span>
<span class="sd">                  &quot;is_game_over&quot;: 1,</span>
<span class="sd">                  &quot;is_offseason&quot;: 1,</span>
<span class="sd">                  &quot;is_registration_over&quot;: 1,</span>
<span class="sd">                  &quot;name&quot;: &quot;Football&quot;,</span>
<span class="sd">                  &quot;season&quot;: &quot;2016&quot;,</span>
<span class="sd">                  &quot;teams&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                      &quot;team&quot;: {</span>
<span class="sd">                        &quot;draft_grade&quot;: &quot;A&quot;,</span>
<span class="sd">                        &quot;draft_position&quot;: 9,</span>
<span class="sd">                        &quot;draft_recap_url&quot;: &quot;&lt;draft recap url&gt;&quot;,</span>
<span class="sd">                        &quot;has_draft_grade&quot;: 1,</span>
<span class="sd">                        &quot;league_scoring_type&quot;: &quot;head&quot;,</span>
<span class="sd">                        &quot;managers&quot;: [</span>
<span class="sd">                          {</span>
<span class="sd">                            &quot;manager&quot;: {</span>
<span class="sd">                              &quot;email&quot;: &quot;&lt;manager email&gt;&quot;,</span>
<span class="sd">                              &quot;guid&quot;: &quot;&lt;manager user guid&gt;&quot;,</span>
<span class="sd">                              &quot;image_url&quot;: &quot;&lt;manager user image url&gt;&quot;,</span>
<span class="sd">                              &quot;is_comanager&quot;: &quot;1&quot;,</span>
<span class="sd">                              &quot;manager_id&quot;: &quot;14&quot;,</span>
<span class="sd">                              &quot;nickname&quot;: &quot;&lt;manager nickname&gt;&quot;</span>
<span class="sd">                            }</span>
<span class="sd">                          }</span>
<span class="sd">                        ],</span>
<span class="sd">                        &quot;name&quot;: &quot;Legion&quot;,</span>
<span class="sd">                        &quot;number_of_moves&quot;: &quot;48&quot;,</span>
<span class="sd">                        &quot;number_of_trades&quot;: &quot;2&quot;,</span>
<span class="sd">                        &quot;roster_adds&quot;: {</span>
<span class="sd">                          &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                          &quot;coverage_value&quot;: &quot;17&quot;,</span>
<span class="sd">                          &quot;value&quot;: &quot;0&quot;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;team_id&quot;: &quot;1&quot;,</span>
<span class="sd">                        &quot;team_key&quot;: &quot;359.l.5521.t.1&quot;,</span>
<span class="sd">                        &quot;team_logos&quot;: {</span>
<span class="sd">                          &quot;team_logo&quot;: {</span>
<span class="sd">                            &quot;size&quot;: &quot;large&quot;,</span>
<span class="sd">                            &quot;url&quot;: &quot;&lt;logo url&gt;&quot;</span>
<span class="sd">                          }</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;url&quot;: &quot;&lt;team url&gt;&quot;,</span>
<span class="sd">                        &quot;waiver_priority&quot;: 11</span>
<span class="sd">                      }</span>
<span class="sd">                    }</span>
<span class="sd">                  ],</span>
<span class="sd">                  &quot;type&quot;: &quot;full&quot;,</span>
<span class="sd">                  &quot;url&quot;: &quot;https://football.fantasysports.yahoo.com/archive/nfl/2016&quot;</span>
<span class="sd">                }</span>
<span class="sd">              }</span>
<span class="sd">          ]</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[Game]: List of YFPY Game instances with &quot;teams&quot; field containing list of YFPY Team instances.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/users;use_login=1/games;codes=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">game_code</span><span class="si">}</span><span class="s2">/teams/&quot;</span><span class="p">,</span>
                <span class="p">[</span><span class="s2">&quot;users&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;games&quot;</span><span class="p">]</span>
            <span class="p">),</span>
            <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;game&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">season</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_league_info"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_league_info">[docs]</a>    <span class="k">def</span> <span class="nf">get_league_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">League</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve info for chosen league.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_league_info()</span>
<span class="sd">            {</span>
<span class="sd">              &quot;allow_add_to_dl_extra_pos&quot;: 0,</span>
<span class="sd">              &quot;current_week&quot;: &quot;16&quot;,</span>
<span class="sd">              &quot;draft_status&quot;: &quot;postdraft&quot;,</span>
<span class="sd">              &quot;edit_key&quot;: &quot;16&quot;,</span>
<span class="sd">              &quot;end_date&quot;: &quot;2014-12-22&quot;,</span>
<span class="sd">              &quot;end_week&quot;: &quot;16&quot;,</span>
<span class="sd">              &quot;game_code&quot;: &quot;nfl&quot;,</span>
<span class="sd">              &quot;iris_group_chat_id&quot;: null,</span>
<span class="sd">              &quot;is_cash_league&quot;: &quot;0&quot;,</span>
<span class="sd">              &quot;is_finished&quot;: 1,</span>
<span class="sd">              &quot;is_pro_league&quot;: &quot;1&quot;,</span>
<span class="sd">              &quot;league_id&quot;: &quot;729259&quot;,</span>
<span class="sd">              &quot;league_key&quot;: &quot;331.l.729259&quot;,</span>
<span class="sd">              &quot;league_type&quot;: &quot;public&quot;,</span>
<span class="sd">              &quot;league_update_timestamp&quot;: &quot;1420099793&quot;,</span>
<span class="sd">              &quot;logo_url&quot;: &quot;https://s.yimg.com/cv/api/default/20180206/default-league-logo@2x.png&quot;,</span>
<span class="sd">              &quot;name&quot;: &quot;Yahoo Public 729259&quot;,</span>
<span class="sd">              &quot;num_teams&quot;: 10,</span>
<span class="sd">              &quot;renew&quot;: null,</span>
<span class="sd">              &quot;renewed&quot;: null,</span>
<span class="sd">              &quot;scoreboard&quot;: {</span>
<span class="sd">                &quot;week&quot;: &quot;16&quot;,</span>
<span class="sd">                &quot;matchups&quot;: [</span>
<span class="sd">                  ...</span>
<span class="sd">                ]</span>
<span class="sd">              },</span>
<span class="sd">              &quot;scoring_type&quot;: &quot;head&quot;,</span>
<span class="sd">              &quot;season&quot;: &quot;2014&quot;,</span>
<span class="sd">              &quot;settings&quot;: {</span>
<span class="sd">                ...</span>
<span class="sd">              },</span>
<span class="sd">              &quot;standings&quot;: {</span>
<span class="sd">                &quot;teams&quot;: [</span>
<span class="sd">                    ...,</span>
<span class="sd">                    ...</span>
<span class="sd">                ],</span>
<span class="sd">                ...</span>
<span class="sd">              },</span>
<span class="sd">              &quot;start_date&quot;: &quot;2014-09-04&quot;,</span>
<span class="sd">              &quot;start_week&quot;: &quot;1&quot;,</span>
<span class="sd">              &quot;url&quot;: &quot;https://football.fantasysports.yahoo.com/archive/nfl/2014/729259&quot;,</span>
<span class="sd">              &quot;weekly_deadline&quot;: null</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            League: YFPY League instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/league/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span><span class="si">}</span><span class="s2">;&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;out=metadata,settings,standings,scoreboard,teams,players,draftresults,transactions&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;league&quot;</span><span class="p">],</span>
            <span class="n">League</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_league_metadata"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_league_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">get_league_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">League</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve metadata for chosen league.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_league_metadata()</span>
<span class="sd">            {</span>
<span class="sd">              &quot;allow_add_to_dl_extra_pos&quot;: 0,</span>
<span class="sd">              &quot;current_week&quot;: &quot;16&quot;,</span>
<span class="sd">              &quot;draft_status&quot;: &quot;postdraft&quot;,</span>
<span class="sd">              &quot;edit_key&quot;: &quot;16&quot;,</span>
<span class="sd">              &quot;end_date&quot;: &quot;2014-12-22&quot;,</span>
<span class="sd">              &quot;end_week&quot;: &quot;16&quot;,</span>
<span class="sd">              &quot;game_code&quot;: &quot;nfl&quot;,</span>
<span class="sd">              &quot;iris_group_chat_id&quot;: null,</span>
<span class="sd">              &quot;is_cash_league&quot;: &quot;0&quot;,</span>
<span class="sd">              &quot;is_finished&quot;: 1,</span>
<span class="sd">              &quot;is_pro_league&quot;: &quot;1&quot;,</span>
<span class="sd">              &quot;league_id&quot;: &quot;729259&quot;,</span>
<span class="sd">              &quot;league_key&quot;: &quot;331.l.729259&quot;,</span>
<span class="sd">              &quot;league_type&quot;: &quot;public&quot;,</span>
<span class="sd">              &quot;league_update_timestamp&quot;: &quot;1420099793&quot;,</span>
<span class="sd">              &quot;logo_url&quot;: &quot;https://s.yimg.com/cv/api/default/20180206/default-league-logo@2x.png&quot;,</span>
<span class="sd">              &quot;name&quot;: &quot;Yahoo Public 729259&quot;,</span>
<span class="sd">              &quot;num_teams&quot;: 10,</span>
<span class="sd">              &quot;renew&quot;: null,</span>
<span class="sd">              &quot;renewed&quot;: null,</span>
<span class="sd">              &quot;scoring_type&quot;: &quot;head&quot;,</span>
<span class="sd">              &quot;season&quot;: &quot;2014&quot;,</span>
<span class="sd">              &quot;start_date&quot;: &quot;2014-09-04&quot;,</span>
<span class="sd">              &quot;start_week&quot;: &quot;1&quot;,</span>
<span class="sd">              &quot;url&quot;: &quot;https://football.fantasysports.yahoo.com/archive/nfl/2014/729259&quot;,</span>
<span class="sd">              &quot;weekly_deadline&quot;: null</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            League: YFPY League instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/league/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span><span class="si">}</span><span class="s2">/metadata&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;league&quot;</span><span class="p">],</span>
            <span class="n">League</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_league_settings"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_league_settings">[docs]</a>    <span class="k">def</span> <span class="nf">get_league_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Settings</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve settings (rules) for chosen league.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_league_settings()</span>
<span class="sd">            {</span>
<span class="sd">              &quot;cant_cut_list&quot;: &quot;yahoo&quot;,</span>
<span class="sd">              &quot;draft_time&quot;: &quot;1408410000&quot;,</span>
<span class="sd">              &quot;draft_type&quot;: &quot;live&quot;,</span>
<span class="sd">              &quot;has_multiweek_championship&quot;: 0,</span>
<span class="sd">              &quot;has_playoff_consolation_games&quot;: true,</span>
<span class="sd">              &quot;is_auction_draft&quot;: &quot;0&quot;,</span>
<span class="sd">              &quot;max_teams&quot;: &quot;10&quot;,</span>
<span class="sd">              &quot;num_playoff_consolation_teams&quot;: 4,</span>
<span class="sd">              &quot;num_playoff_teams&quot;: &quot;4&quot;,</span>
<span class="sd">              &quot;pickem_enabled&quot;: &quot;1&quot;,</span>
<span class="sd">              &quot;player_pool&quot;: &quot;ALL&quot;,</span>
<span class="sd">              &quot;playoff_start_week&quot;: &quot;15&quot;,</span>
<span class="sd">              &quot;post_draft_players&quot;: &quot;W&quot;,</span>
<span class="sd">              &quot;roster_positions&quot;: [</span>
<span class="sd">                {</span>
<span class="sd">                  &quot;roster_position&quot;: {</span>
<span class="sd">                    &quot;count&quot;: 1,</span>
<span class="sd">                    &quot;position&quot;: &quot;QB&quot;,</span>
<span class="sd">                    &quot;position_type&quot;: &quot;O&quot;</span>
<span class="sd">                  }</span>
<span class="sd">                },</span>
<span class="sd">                ...</span>
<span class="sd">              ],</span>
<span class="sd">              &quot;scoring_type&quot;: &quot;head&quot;,</span>
<span class="sd">              &quot;stat_categories&quot;: {</span>
<span class="sd">                &quot;stats&quot;: [</span>
<span class="sd">                  {</span>
<span class="sd">                    &quot;stat&quot;: {</span>
<span class="sd">                      &quot;display_name&quot;: &quot;Pass Yds&quot;,</span>
<span class="sd">                      &quot;enabled&quot;: &quot;1&quot;,</span>
<span class="sd">                      &quot;name&quot;: &quot;Passing Yards&quot;,</span>
<span class="sd">                      &quot;position_type&quot;: &quot;O&quot;,</span>
<span class="sd">                      &quot;sort_order&quot;: &quot;1&quot;,</span>
<span class="sd">                      &quot;stat_id&quot;: 4,</span>
<span class="sd">                      &quot;stat_position_types&quot;: {</span>
<span class="sd">                        &quot;stat_position_type&quot;: {</span>
<span class="sd">                          &quot;position_type&quot;: &quot;O&quot;</span>
<span class="sd">                        }</span>
<span class="sd">                      }</span>
<span class="sd">                    }</span>
<span class="sd">                  },</span>
<span class="sd">                  ...</span>
<span class="sd">                ]</span>
<span class="sd">              },</span>
<span class="sd">              &quot;stat_modifiers&quot;: {</span>
<span class="sd">                &quot;stats&quot;: [</span>
<span class="sd">                  {</span>
<span class="sd">                    &quot;stat&quot;: {</span>
<span class="sd">                      &quot;stat_id&quot;: 4,</span>
<span class="sd">                      &quot;value&quot;: &quot;0.04&quot;</span>
<span class="sd">                    }</span>
<span class="sd">                  },</span>
<span class="sd">                  ...</span>
<span class="sd">                ]</span>
<span class="sd">              },</span>
<span class="sd">              &quot;trade_end_date&quot;: &quot;2014-11-14&quot;,</span>
<span class="sd">              &quot;trade_ratify_type&quot;: &quot;yahoo&quot;,</span>
<span class="sd">              &quot;trade_reject_time&quot;: &quot;2&quot;,</span>
<span class="sd">              &quot;uses_faab&quot;: &quot;0&quot;,</span>
<span class="sd">              &quot;uses_fractional_points&quot;: &quot;1&quot;,</span>
<span class="sd">              &quot;uses_lock_eliminated_teams&quot;: 1,</span>
<span class="sd">              &quot;uses_negative_points&quot;: &quot;1&quot;,</span>
<span class="sd">              &quot;uses_playoff&quot;: &quot;1&quot;,</span>
<span class="sd">              &quot;uses_playoff_reseeding&quot;: 0,</span>
<span class="sd">              &quot;waiver_rule&quot;: &quot;gametime&quot;,</span>
<span class="sd">              &quot;waiver_time&quot;: &quot;2&quot;,</span>
<span class="sd">              &quot;waiver_type&quot;: &quot;R&quot;</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            Settings: YFPY Settings instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/league/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span><span class="si">}</span><span class="s2">/settings&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;league&quot;</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">],</span>
            <span class="n">Settings</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_league_standings"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_league_standings">[docs]</a>    <span class="k">def</span> <span class="nf">get_league_standings</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Standings</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve standings for chosen league.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_league_standings()</span>
<span class="sd">            {</span>
<span class="sd">              &quot;teams&quot;: [</span>
<span class="sd">                {</span>
<span class="sd">                  &quot;team&quot;: {</span>
<span class="sd">                    &quot;clinched_playoffs&quot;: 1,</span>
<span class="sd">                    &quot;draft_grade&quot;: &quot;C+&quot;,</span>
<span class="sd">                    &quot;draft_position&quot;: 7,</span>
<span class="sd">                    &quot;draft_recap_url&quot;:</span>
<span class="sd">                        &quot;https://football.fantasysports.yahoo.com/archive/nfl/2014/729259/8/draftrecap&quot;,</span>
<span class="sd">                    &quot;has_draft_grade&quot;: 1,</span>
<span class="sd">                    &quot;league_scoring_type&quot;: &quot;head&quot;,</span>
<span class="sd">                    &quot;managers&quot;: {</span>
<span class="sd">                      &quot;manager&quot;: {</span>
<span class="sd">                        &quot;guid&quot;: &quot;PMTCFWSK5U5LI4SKWREUR56B5A&quot;,</span>
<span class="sd">                        &quot;manager_id&quot;: &quot;8&quot;,</span>
<span class="sd">                        &quot;nickname&quot;: &quot;--hidden--&quot;</span>
<span class="sd">                      }</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;name&quot;: &quot;clam dam&quot;,</span>
<span class="sd">                    &quot;number_of_moves&quot;: &quot;27&quot;,</span>
<span class="sd">                    &quot;number_of_trades&quot;: 0,</span>
<span class="sd">                    &quot;roster_adds&quot;: {</span>
<span class="sd">                      &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                      &quot;coverage_value&quot;: &quot;17&quot;,</span>
<span class="sd">                      &quot;value&quot;: &quot;0&quot;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;team_id&quot;: &quot;8&quot;,</span>
<span class="sd">                    &quot;team_key&quot;: &quot;331.l.729259.t.8&quot;,</span>
<span class="sd">                    &quot;team_logos&quot;: {</span>
<span class="sd">                      &quot;team_logo&quot;: {</span>
<span class="sd">                        &quot;size&quot;: &quot;large&quot;,</span>
<span class="sd">                        &quot;url&quot;: &quot;https://s.yimg.com/cv/apiv2/default/nfl/nfl_1.png&quot;</span>
<span class="sd">                      }</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;team_points&quot;: {</span>
<span class="sd">                      &quot;coverage_type&quot;: &quot;season&quot;,</span>
<span class="sd">                      &quot;season&quot;: &quot;2014&quot;,</span>
<span class="sd">                      &quot;total&quot;: &quot;1507.06&quot;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;team_standings&quot;: {</span>
<span class="sd">                      &quot;outcome_totals&quot;: {</span>
<span class="sd">                        &quot;losses&quot;: 2,</span>
<span class="sd">                        &quot;percentage&quot;: 0.857,</span>
<span class="sd">                        &quot;ties&quot;: 0,</span>
<span class="sd">                        &quot;wins&quot;: 12</span>
<span class="sd">                      },</span>
<span class="sd">                      &quot;playoff_seed&quot;: &quot;1&quot;,</span>
<span class="sd">                      &quot;points_against&quot;: 1263.78,</span>
<span class="sd">                      &quot;points_for&quot;: 1507.06,</span>
<span class="sd">                      &quot;rank&quot;: 1,</span>
<span class="sd">                      &quot;streak&quot;: {</span>
<span class="sd">                        &quot;type&quot;: &quot;win&quot;,</span>
<span class="sd">                        &quot;value&quot;: &quot;2&quot;</span>
<span class="sd">                      }</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;url&quot;: &quot;https://football.fantasysports.yahoo.com/archive/nfl/2014/729259/8&quot;,</span>
<span class="sd">                    &quot;waiver_priority&quot;: 10</span>
<span class="sd">                  }</span>
<span class="sd">                },</span>
<span class="sd">                ...</span>
<span class="sd">              ]</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            Standings: YFPY Standings instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/league/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span><span class="si">}</span><span class="s2">/standings&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;league&quot;</span><span class="p">,</span> <span class="s2">&quot;standings&quot;</span><span class="p">],</span>
            <span class="n">Standings</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_league_teams"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_league_teams">[docs]</a>    <span class="k">def</span> <span class="nf">get_league_teams</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Team</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve teams for chosen league.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_league_teams()</span>
<span class="sd">            [</span>
<span class="sd">              {</span>
<span class="sd">                &quot;team&quot;: {</span>
<span class="sd">                  &quot;clinched_playoffs&quot;: 1,</span>
<span class="sd">                  &quot;draft_grade&quot;: &quot;B&quot;,</span>
<span class="sd">                  &quot;draft_position&quot;: 4,</span>
<span class="sd">                  &quot;draft_recap_url&quot;:</span>
<span class="sd">                    &quot;https://football.fantasysports.yahoo.com/archive/nfl/2014/729259/1/draftrecap&quot;,</span>
<span class="sd">                  &quot;has_draft_grade&quot;: 1,</span>
<span class="sd">                  &quot;league_scoring_type&quot;: &quot;head&quot;,</span>
<span class="sd">                  &quot;managers&quot;: {</span>
<span class="sd">                    &quot;manager&quot;: {</span>
<span class="sd">                      &quot;guid&quot;: &quot;BMACD7S5UXV7JIQX4PGGUVQJAU&quot;,</span>
<span class="sd">                      &quot;manager_id&quot;: &quot;1&quot;,</span>
<span class="sd">                      &quot;nickname&quot;: &quot;--hidden--&quot;</span>
<span class="sd">                    }</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;name&quot;: &quot;Hellacious Hill 12&quot;,</span>
<span class="sd">                  &quot;number_of_moves&quot;: &quot;71&quot;,</span>
<span class="sd">                  &quot;number_of_trades&quot;: 0,</span>
<span class="sd">                  &quot;roster_adds&quot;: {</span>
<span class="sd">                    &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                    &quot;coverage_value&quot;: &quot;17&quot;,</span>
<span class="sd">                    &quot;value&quot;: &quot;0&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;team_id&quot;: &quot;1&quot;,</span>
<span class="sd">                  &quot;team_key&quot;: &quot;331.l.729259.t.1&quot;,</span>
<span class="sd">                  &quot;team_logos&quot;: {</span>
<span class="sd">                    &quot;team_logo&quot;: {</span>
<span class="sd">                      &quot;size&quot;: &quot;large&quot;,</span>
<span class="sd">                      &quot;url&quot;: &quot;https://ct.yimg.com/cy/1441/24935131299_a8242dab70_192sq.jpg?ct=fantasy&quot;</span>
<span class="sd">                    }</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;url&quot;: &quot;https://football.fantasysports.yahoo.com/archive/nfl/2014/729259/1&quot;,</span>
<span class="sd">                  &quot;waiver_priority&quot;: 9</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              ...</span>
<span class="sd">            ]</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[Team]: List of YFPY Team instances.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/league/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span><span class="si">}</span><span class="s2">/teams&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;league&quot;</span><span class="p">,</span> <span class="s2">&quot;teams&quot;</span><span class="p">]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_league_players"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_league_players">[docs]</a>    <span class="k">def</span> <span class="nf">get_league_players</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player_count_limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">player_count_start</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
                           <span class="n">is_retry</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Player</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve valid players for chosen league.</span>

<span class="sd">        Args:</span>
<span class="sd">            player_count_limit (int): Maximum number of players to retreive.</span>
<span class="sd">            player_count_start (int): Index from which to retrieve all subsequent players.</span>
<span class="sd">            is_retry (bool): Boolean to indicate whether the method is being retried during error handling.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_league_players(50, 25)</span>
<span class="sd">            [</span>
<span class="sd">              {</span>
<span class="sd">                &quot;player&quot;: {</span>
<span class="sd">                  &quot;bye_weeks&quot;: {</span>
<span class="sd">                    &quot;week&quot;: &quot;10&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;display_position&quot;: &quot;K&quot;,</span>
<span class="sd">                  &quot;editorial_player_key&quot;: &quot;nfl.p.3727&quot;,</span>
<span class="sd">                  &quot;editorial_team_abbr&quot;: &quot;Ind&quot;,</span>
<span class="sd">                  &quot;editorial_team_full_name&quot;: &quot;Indianapolis Colts&quot;,</span>
<span class="sd">                  &quot;editorial_team_key&quot;: &quot;nfl.t.11&quot;,</span>
<span class="sd">                  &quot;eligible_positions&quot;: {</span>
<span class="sd">                    &quot;position&quot;: &quot;K&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;has_player_notes&quot;: 1,</span>
<span class="sd">                  &quot;headshot&quot;: {</span>
<span class="sd">                    &quot;size&quot;: &quot;small&quot;,</span>
<span class="sd">                    &quot;url&quot;:</span>
<span class="sd">                        &quot;https://s.yimg.com/iu/api/res/1.2/OpHvpCHjl_PQvkeQUgsjsA--~C</span>
<span class="sd">                        /YXBwaWQ9eXNwb3J0cztjaD0yMzM2O2NyPTE7Y3c9MTc5MDtkeD04NTc7ZHk9MDtmaT11bGNyb3A7aD02MDtxPTEwMDt</span>
<span class="sd">                        3PTQ2/https://s.yimg.com/xe/i/us/sp/v/nfl_cutout/players_l/08152019/3727.png&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;is_undroppable&quot;: &quot;0&quot;,</span>
<span class="sd">                  &quot;name&quot;: {</span>
<span class="sd">                    &quot;ascii_first&quot;: &quot;Adam&quot;,</span>
<span class="sd">                    &quot;ascii_last&quot;: &quot;Vinatieri&quot;,</span>
<span class="sd">                    &quot;first&quot;: &quot;Adam&quot;,</span>
<span class="sd">                    &quot;full&quot;: &quot;Adam Vinatieri&quot;,</span>
<span class="sd">                    &quot;last&quot;: &quot;Vinatieri&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;player_id&quot;: &quot;3727&quot;,</span>
<span class="sd">                  &quot;player_key&quot;: &quot;331.p.3727&quot;,</span>
<span class="sd">                  &quot;player_notes_last_timestamp&quot;: 1568758320,</span>
<span class="sd">                  &quot;position_type&quot;: &quot;K&quot;,</span>
<span class="sd">                  &quot;primary_position&quot;: &quot;K&quot;,</span>
<span class="sd">                  &quot;uniform_number&quot;: &quot;4&quot;</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              ...</span>
<span class="sd">            ]</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[Player]: List of YFPY Player instances.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">league_player_count</span> <span class="o">=</span> <span class="n">player_count_start</span>
        <span class="n">all_players_retrieved</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">league_player_data</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">league_player_retrieval_limit</span> <span class="o">=</span> <span class="mi">25</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="n">all_players_retrieved</span><span class="p">:</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">league_player_query_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/league/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span><span class="si">}</span><span class="s2">/players;&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;start=</span><span class="si">{</span><span class="n">league_player_count</span><span class="si">}</span><span class="s2">;count=</span><span class="si">{</span><span class="n">league_player_retrieval_limit</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">is_retry</span> <span class="k">else</span> <span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="p">[</span><span class="s2">&quot;league&quot;</span><span class="p">,</span> <span class="s2">&quot;players&quot;</span><span class="p">]</span>
                <span class="p">)</span>

                <span class="n">league_players</span> <span class="o">=</span> <span class="p">(</span><span class="n">league_player_query_data</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">league_player_query_data</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span> <span class="k">else</span>
                                  <span class="p">[</span><span class="n">league_player_query_data</span><span class="p">])</span>
                <span class="n">league_player_count_from_query</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">league_players</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">player_count_limit</span><span class="p">:</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">league_player_count</span> <span class="o">+</span> <span class="n">league_player_count_from_query</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">player_count_limit</span><span class="p">:</span>
                        <span class="n">league_player_count</span> <span class="o">+=</span> <span class="n">league_player_count_from_query</span>
                        <span class="n">league_player_data</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">league_players</span><span class="p">)</span>

                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">ndx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">player_count_limit</span> <span class="o">-</span> <span class="n">league_player_count</span><span class="p">):</span>
                            <span class="n">league_player_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">league_players</span><span class="p">[</span><span class="n">ndx</span><span class="p">])</span>
                        <span class="n">league_player_count</span> <span class="o">+=</span> <span class="p">(</span><span class="n">player_count_limit</span> <span class="o">-</span> <span class="n">league_player_count</span><span class="p">)</span>
                        <span class="n">all_players_retrieved</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="n">league_player_count</span> <span class="o">+=</span> <span class="n">league_player_count_from_query</span>
                    <span class="n">league_player_data</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">league_players</span><span class="p">)</span>

            <span class="k">except</span> <span class="n">YahooFantasySportsDataNotFound</span> <span class="k">as</span> <span class="n">yfpy_err</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">is_retry</span><span class="p">:</span>
                    <span class="n">payload</span> <span class="o">=</span> <span class="n">yfpy_err</span><span class="o">.</span><span class="n">payload</span>
                    <span class="k">if</span> <span class="n">payload</span><span class="p">:</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;No more league player data available.&quot;</span><span class="p">)</span>
                        <span class="n">all_players_retrieved</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;Error retrieving player batch: &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">league_player_count</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">league_player_count</span> <span class="o">+</span> <span class="n">league_player_retrieval_limit</span> <span class="o">-</span> <span class="mi">1</span><span class="si">}</span><span class="s2">. &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;Attempting to retrieve individual players from batch.&quot;</span><span class="p">)</span>

                        <span class="n">player_retrieval_successes</span> <span class="o">=</span> <span class="p">[]</span>
                        <span class="n">player_retrieval_failures</span> <span class="o">=</span> <span class="p">[]</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">25</span><span class="p">):</span>
                            <span class="k">try</span><span class="p">:</span>
                                <span class="n">player_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_league_players</span><span class="p">(</span>
                                    <span class="n">player_count_limit</span><span class="o">=</span><span class="n">league_player_count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
                                    <span class="n">player_count_start</span><span class="o">=</span><span class="n">league_player_count</span><span class="p">,</span>
                                    <span class="n">is_retry</span><span class="o">=</span><span class="kc">True</span>
                                <span class="p">)</span>
                                <span class="n">player_retrieval_successes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">player_data</span><span class="p">)</span>

                            <span class="k">except</span> <span class="n">YahooFantasySportsDataNotFound</span> <span class="k">as</span> <span class="n">nested_yfpy_err</span><span class="p">:</span>
                                <span class="n">player_retrieval_failures</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                                    <span class="p">{</span>
                                        <span class="s2">&quot;failed_player_retrieval_index&quot;</span><span class="p">:</span> <span class="n">league_player_count</span><span class="p">,</span>
                                        <span class="s2">&quot;failed_player_retrieval_url&quot;</span><span class="p">:</span> <span class="n">nested_yfpy_err</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
                                        <span class="s2">&quot;failed_player_retrieval_message&quot;</span><span class="p">:</span> <span class="n">nested_yfpy_err</span><span class="o">.</span><span class="n">message</span>
                                    <span class="p">}</span>
                                <span class="p">)</span>

                            <span class="n">league_player_count</span> <span class="o">+=</span> <span class="mi">1</span>

                        <span class="n">league_player_data</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">player_retrieval_successes</span><span class="p">)</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Players retrieval failures:</span><span class="se">\n</span><span class="si">{</span><span class="n">prettify_data</span><span class="p">(</span><span class="n">player_retrieval_failures</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">yfpy_err</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;League player count: </span><span class="si">{</span><span class="n">league_player_count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">league_player_data</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_league_draft_results"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_league_draft_results">[docs]</a>    <span class="k">def</span> <span class="nf">get_league_draft_results</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">DraftResult</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve draft results for chosen league.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_league_draft_results()</span>
<span class="sd">            [</span>
<span class="sd">              {</span>
<span class="sd">                &quot;draft_result&quot;: {</span>
<span class="sd">                  &quot;pick&quot;: 1,</span>
<span class="sd">                  &quot;round&quot;: 1,</span>
<span class="sd">                  &quot;team_key&quot;: &quot;331.l.729259.t.4&quot;,</span>
<span class="sd">                  &quot;player_key&quot;: &quot;331.p.9317&quot;</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              ...</span>
<span class="sd">            ]</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[DraftResult]: List of YFPY DraftResult instances.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/league/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span><span class="si">}</span><span class="s2">/draftresults&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;league&quot;</span><span class="p">,</span> <span class="s2">&quot;draft_results&quot;</span><span class="p">]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_league_transactions"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_league_transactions">[docs]</a>    <span class="k">def</span> <span class="nf">get_league_transactions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Transaction</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve transactions for chosen league.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_league_transactions()</span>
<span class="sd">            [</span>
<span class="sd">              {</span>
<span class="sd">                &quot;transaction&quot;: {</span>
<span class="sd">                  &quot;players&quot;: [</span>
<span class="sd">                    {</span>
<span class="sd">                      &quot;player&quot;: {</span>
<span class="sd">                        &quot;display_position&quot;: &quot;RB&quot;,</span>
<span class="sd">                        &quot;editorial_team_abbr&quot;: &quot;NO&quot;,</span>
<span class="sd">                        &quot;name&quot;: {</span>
<span class="sd">                          &quot;ascii_first&quot;: &quot;Kerwynn&quot;,</span>
<span class="sd">                          &quot;ascii_last&quot;: &quot;Williams&quot;,</span>
<span class="sd">                          &quot;first&quot;: &quot;Kerwynn&quot;,</span>
<span class="sd">                          &quot;full&quot;: &quot;Kerwynn Williams&quot;,</span>
<span class="sd">                          &quot;last&quot;: &quot;Williams&quot;</span>
<span class="sd">                        },</span>
<span class="sd">                        &quot;player_id&quot;: &quot;26853&quot;,</span>
<span class="sd">                        &quot;player_key&quot;: &quot;331.p.26853&quot;,</span>
<span class="sd">                        &quot;position_type&quot;: &quot;O&quot;,</span>
<span class="sd">                        &quot;transaction_data&quot;: {</span>
<span class="sd">                          &quot;destination_team_key&quot;: &quot;331.l.729259.t.1&quot;,</span>
<span class="sd">                          &quot;destination_team_name&quot;: &quot;Hellacious Hill 12&quot;,</span>
<span class="sd">                          &quot;destination_type&quot;: &quot;team&quot;,</span>
<span class="sd">                          &quot;source_type&quot;: &quot;freeagents&quot;,</span>
<span class="sd">                          &quot;type&quot;: &quot;add&quot;</span>
<span class="sd">                        }</span>
<span class="sd">                      }</span>
<span class="sd">                    }</span>
<span class="sd">                  ],</span>
<span class="sd">                  &quot;status&quot;: &quot;successful&quot;,</span>
<span class="sd">                  &quot;timestamp&quot;: &quot;1419188151&quot;,</span>
<span class="sd">                  &quot;transaction_id&quot;: &quot;282&quot;,</span>
<span class="sd">                  &quot;transaction_key&quot;: &quot;331.l.729259.tr.282&quot;,</span>
<span class="sd">                  &quot;type&quot;: &quot;add/drop&quot;</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              ...</span>
<span class="sd">            ]</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[Transaction]: List of YFPY Transaction instances.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/league/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span><span class="si">}</span><span class="s2">/transactions&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;league&quot;</span><span class="p">,</span> <span class="s2">&quot;transactions&quot;</span><span class="p">]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_league_scoreboard_by_week"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_league_scoreboard_by_week">[docs]</a>    <span class="k">def</span> <span class="nf">get_league_scoreboard_by_week</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chosen_week</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Scoreboard</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve scoreboard for chosen league by week.</span>

<span class="sd">        Args:</span>
<span class="sd">            chosen_week (int): Selected week for which to retrieve data.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_league_scoreboard_by_week(1)</span>
<span class="sd">            {</span>
<span class="sd">              &quot;week&quot;: &quot;1&quot;,</span>
<span class="sd">              &quot;matchups&quot;: [</span>
<span class="sd">                {</span>
<span class="sd">                  &quot;matchup&quot;: {</span>
<span class="sd">                    &quot;is_consolation&quot;: &quot;0&quot;,</span>
<span class="sd">                    &quot;is_matchup_recap_available&quot;: 1,</span>
<span class="sd">                    &quot;is_playoffs&quot;: &quot;0&quot;,</span>
<span class="sd">                    &quot;is_tied&quot;: 0,</span>
<span class="sd">                    &quot;matchup_grades&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;matchup_grade&quot;: {</span>
<span class="sd">                          &quot;grade&quot;: &quot;B&quot;,</span>
<span class="sd">                          &quot;team_key&quot;: &quot;331.l.729259.t.1&quot;</span>
<span class="sd">                        }</span>
<span class="sd">                      },</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;matchup_grade&quot;: {</span>
<span class="sd">                          &quot;grade&quot;: &quot;B&quot;,</span>
<span class="sd">                          &quot;team_key&quot;: &quot;331.l.729259.t.2&quot;</span>
<span class="sd">                        }</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;matchup_recap_title&quot;: &quot;Wax On Wax Off Gets Victory Against Hellacious Hill 12&quot;,</span>
<span class="sd">                    &quot;matchup_recap_url&quot;:</span>
<span class="sd">                        &quot;https://football.fantasysports.yahoo.com/archive/nfl/2014/729259/recap?</span>
<span class="sd">                        week=1&amp;mid1=1&amp;mid2=2&quot;,</span>
<span class="sd">                    &quot;status&quot;: &quot;postevent&quot;,</span>
<span class="sd">                    &quot;teams&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;team&quot;: {</span>
<span class="sd">                            &lt;team data&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      },</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;team&quot;: {</span>
<span class="sd">                            &lt;team data&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;week&quot;: &quot;1&quot;,</span>
<span class="sd">                    &quot;week_end&quot;: &quot;2014-09-08&quot;,</span>
<span class="sd">                    &quot;week_start&quot;: &quot;2014-09-04&quot;,</span>
<span class="sd">                    &quot;winner_team_key&quot;: &quot;331.l.729259.t.2&quot;</span>
<span class="sd">                  }</span>
<span class="sd">                },</span>
<span class="sd">                ...</span>
<span class="sd">              ]</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            Scoreboard: YFPY Scoreboard instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/league/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span><span class="si">}</span><span class="s2">/scoreboard;&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;week=</span><span class="si">{</span><span class="n">chosen_week</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;league&quot;</span><span class="p">,</span> <span class="s2">&quot;scoreboard&quot;</span><span class="p">],</span>
            <span class="n">Scoreboard</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_league_matchups_by_week"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_league_matchups_by_week">[docs]</a>    <span class="k">def</span> <span class="nf">get_league_matchups_by_week</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chosen_week</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Matchup</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve matchups for chosen league by week.</span>

<span class="sd">        Args:</span>
<span class="sd">            chosen_week (int): Selected week for which to retrieve data.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_league_matchups_by_week(1)</span>
<span class="sd">            [</span>
<span class="sd">                &quot;matchup&quot;: {</span>
<span class="sd">                    &quot;is_consolation&quot;: &quot;0&quot;,</span>
<span class="sd">                    &quot;is_matchup_recap_available&quot;: 1,</span>
<span class="sd">                    &quot;is_playoffs&quot;: &quot;0&quot;,</span>
<span class="sd">                    &quot;is_tied&quot;: 0,</span>
<span class="sd">                    &quot;matchup_grades&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;matchup_grade&quot;: {</span>
<span class="sd">                          &quot;grade&quot;: &quot;B&quot;,</span>
<span class="sd">                          &quot;team_key&quot;: &quot;331.l.729259.t.1&quot;</span>
<span class="sd">                        }</span>
<span class="sd">                      },</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;matchup_grade&quot;: {</span>
<span class="sd">                          &quot;grade&quot;: &quot;B&quot;,</span>
<span class="sd">                          &quot;team_key&quot;: &quot;331.l.729259.t.2&quot;</span>
<span class="sd">                        }</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;matchup_recap_title&quot;: &quot;Wax On Wax Off Gets Victory Against Hellacious Hill 12&quot;,</span>
<span class="sd">                    &quot;matchup_recap_url&quot;:</span>
<span class="sd">                        &quot;https://football.fantasysports.yahoo.com/archive/nfl/2014/729259/recap?</span>
<span class="sd">                        week=1&amp;mid1=1&amp;mid2=2&quot;,</span>
<span class="sd">                    &quot;status&quot;: &quot;postevent&quot;,</span>
<span class="sd">                    &quot;teams&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;team&quot;: {</span>
<span class="sd">                            &lt;team data&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      },</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;team&quot;: {</span>
<span class="sd">                            &lt;team data&gt;</span>
<span class="sd">                        }</span>
<span class="sd">                      }</span>
<span class="sd">                    ],</span>
<span class="sd">                    &quot;week&quot;: &quot;1&quot;,</span>
<span class="sd">                    &quot;week_end&quot;: &quot;2014-09-08&quot;,</span>
<span class="sd">                    &quot;week_start&quot;: &quot;2014-09-04&quot;,</span>
<span class="sd">                    &quot;winner_team_key&quot;: &quot;331.l.729259.t.2&quot;</span>
<span class="sd">                  }</span>
<span class="sd">                },</span>
<span class="sd">                ...</span>
<span class="sd">            ]</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[Matchup]: List of YFPY Matchup instances.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/league/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span><span class="si">}</span><span class="s2">/scoreboard;&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;week=</span><span class="si">{</span><span class="n">chosen_week</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;league&quot;</span><span class="p">,</span> <span class="s2">&quot;scoreboard&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;matchups&quot;</span><span class="p">]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_team_info"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_team_info">[docs]</a>    <span class="k">def</span> <span class="nf">get_team_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Team</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve info of specific team by team_id for chosen league.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_id (str): Selected team ID for which to retrieva data (can be integers 1 through n where n is the</span>
<span class="sd">                number of teams in the league).</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_team_info(1)</span>
<span class="sd">            {</span>
<span class="sd">              &quot;clinched_playoffs&quot;: 1,</span>
<span class="sd">              &quot;draft_grade&quot;: &quot;B&quot;,</span>
<span class="sd">              &quot;draft_position&quot;: 4,</span>
<span class="sd">              &quot;draft_recap_url&quot;: &quot;https://football.fantasysports.yahoo.com/archive/nfl/2014/729259/1/draftrecap&quot;,</span>
<span class="sd">              &quot;draft_results&quot;: [</span>
<span class="sd">                ...</span>
<span class="sd">              ],</span>
<span class="sd">              &quot;has_draft_grade&quot;: 1,</span>
<span class="sd">              &quot;league_scoring_type&quot;: &quot;head&quot;,</span>
<span class="sd">              &quot;managers&quot;: {</span>
<span class="sd">                &quot;manager&quot;: {</span>
<span class="sd">                  &quot;guid&quot;: &quot;BMACD7S5UXV7JIQX4PGGUVQJAU&quot;,</span>
<span class="sd">                  &quot;manager_id&quot;: &quot;1&quot;,</span>
<span class="sd">                  &quot;nickname&quot;: &quot;--hidden--&quot;</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              &quot;matchups&quot;: [</span>
<span class="sd">                ...</span>
<span class="sd">              ],</span>
<span class="sd">              &quot;name&quot;: &quot;Hellacious Hill 12&quot;,</span>
<span class="sd">              &quot;number_of_moves&quot;: &quot;71&quot;,</span>
<span class="sd">              &quot;number_of_trades&quot;: 0,</span>
<span class="sd">              &quot;roster&quot;: {</span>
<span class="sd">                ...</span>
<span class="sd">              },</span>
<span class="sd">              &quot;roster_adds&quot;: {</span>
<span class="sd">                &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                &quot;coverage_value&quot;: &quot;17&quot;,</span>
<span class="sd">                &quot;value&quot;: &quot;0&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;team_id&quot;: &quot;1&quot;,</span>
<span class="sd">              &quot;team_key&quot;: &quot;331.l.729259.t.1&quot;,</span>
<span class="sd">              &quot;team_logos&quot;: {</span>
<span class="sd">                &quot;team_logo&quot;: {</span>
<span class="sd">                  &quot;size&quot;: &quot;large&quot;,</span>
<span class="sd">                  &quot;url&quot;: &quot;https://ct.yimg.com/cy/1441/24935131299_a8242dab70_192sq.jpg?ct=fantasy&quot;</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              &quot;team_points&quot;: {</span>
<span class="sd">                &quot;coverage_type&quot;: &quot;season&quot;,</span>
<span class="sd">                &quot;season&quot;: &quot;2014&quot;,</span>
<span class="sd">                &quot;total&quot;: &quot;1409.24&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;team_standings&quot;: {</span>
<span class="sd">                &quot;outcome_totals&quot;: {</span>
<span class="sd">                  &quot;losses&quot;: 5,</span>
<span class="sd">                  &quot;percentage&quot;: 0.643,</span>
<span class="sd">                  &quot;ties&quot;: 0,</span>
<span class="sd">                  &quot;wins&quot;: 9</span>
<span class="sd">                },</span>
<span class="sd">                &quot;playoff_seed&quot;: &quot;2&quot;,</span>
<span class="sd">                &quot;points_against&quot;: 1266.6599999999999,</span>
<span class="sd">                &quot;points_for&quot;: 1409.24,</span>
<span class="sd">                &quot;rank&quot;: 2,</span>
<span class="sd">                &quot;streak&quot;: {</span>
<span class="sd">                  &quot;type&quot;: &quot;win&quot;,</span>
<span class="sd">                  &quot;value&quot;: &quot;1&quot;</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              &quot;url&quot;: &quot;https://football.fantasysports.yahoo.com/archive/nfl/2014/729259/1&quot;,</span>
<span class="sd">              &quot;waiver_priority&quot;: 9</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            Team: YFPY Team instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">team_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;.t.&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">team_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/team/</span><span class="si">{</span><span class="n">team_key</span><span class="si">}</span><span class="s2">;&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;out=metadata,stats,standings,roster,draftresults,matchups&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;team&quot;</span><span class="p">],</span>
            <span class="n">Team</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_team_metadata"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_team_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">get_team_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Team</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve metadata of specific team by team_id for chosen league.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_id (str): Selected team ID for which to retrieva data (can be integers 1 through n where n is the</span>
<span class="sd">                number of teams in the league).</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_team_metadata(1)</span>
<span class="sd">            {</span>
<span class="sd">              &quot;team_key&quot;: &quot;331.l.729259.t.1&quot;,</span>
<span class="sd">              &quot;team_id&quot;: &quot;1&quot;,</span>
<span class="sd">              &quot;name&quot;: &quot;Hellacious Hill 12&quot;,</span>
<span class="sd">              &quot;url&quot;: &quot;https://football.fantasysports.yahoo.com/archive/nfl/2014/729259/1&quot;,</span>
<span class="sd">              &quot;team_logos&quot;: {</span>
<span class="sd">                &quot;team_logo&quot;: {</span>
<span class="sd">                  &quot;size&quot;: &quot;large&quot;,</span>
<span class="sd">                  &quot;url&quot;: &quot;https://ct.yimg.com/cy/1441/24935131299_a8242dab70_192sq.jpg?ct=fantasy&quot;</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              &quot;waiver_priority&quot;: 9,</span>
<span class="sd">              &quot;number_of_moves&quot;: &quot;71&quot;,</span>
<span class="sd">              &quot;number_of_trades&quot;: 0,</span>
<span class="sd">              &quot;roster_adds&quot;: {</span>
<span class="sd">                &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                &quot;coverage_value&quot;: &quot;17&quot;,</span>
<span class="sd">                &quot;value&quot;: &quot;0&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;clinched_playoffs&quot;: 1,</span>
<span class="sd">              &quot;league_scoring_type&quot;: &quot;head&quot;,</span>
<span class="sd">              &quot;draft_position&quot;: 4,</span>
<span class="sd">              &quot;has_draft_grade&quot;: 1,</span>
<span class="sd">              &quot;draft_grade&quot;: &quot;B&quot;,</span>
<span class="sd">              &quot;draft_recap_url&quot;: &quot;https://football.fantasysports.yahoo.com/archive/nfl/2014/729259/1/draftrecap&quot;,</span>
<span class="sd">              &quot;managers&quot;: {</span>
<span class="sd">                &quot;manager&quot;: {</span>
<span class="sd">                  &quot;guid&quot;: &quot;BMACD7S5UXV7JIQX4PGGUVQJAU&quot;,</span>
<span class="sd">                  &quot;manager_id&quot;: &quot;1&quot;,</span>
<span class="sd">                  &quot;nickname&quot;: &quot;--hidden--&quot;</span>
<span class="sd">                }</span>
<span class="sd">              }</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            Team: YFPY Team instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">team_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;.t.&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">team_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/team/</span><span class="si">{</span><span class="n">team_key</span><span class="si">}</span><span class="s2">/metadata&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;team&quot;</span><span class="p">],</span>
            <span class="n">Team</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_team_stats"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_team_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_team_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamPoints</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve stats of specific team by team_id for chosen league.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_id (str): Selected team ID for which to retrieva data (can be integers 1 through n where n is the</span>
<span class="sd">                number of teams in the league).</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_team_stats(1)</span>
<span class="sd">            {</span>
<span class="sd">              &quot;coverage_type&quot;: &quot;season&quot;,</span>
<span class="sd">              &quot;season&quot;: &quot;2014&quot;,</span>
<span class="sd">              &quot;total&quot;: &quot;1409.24&quot;</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            TeamPoints: YFPY TeamPoints instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">team_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;.t.&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">team_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/team/</span><span class="si">{</span><span class="n">team_key</span><span class="si">}</span><span class="s2">/stats&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;team&quot;</span><span class="p">,</span> <span class="s2">&quot;team_points&quot;</span><span class="p">],</span>
            <span class="n">TeamPoints</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_team_stats_by_week"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_team_stats_by_week">[docs]</a>    <span class="k">def</span> <span class="nf">get_team_stats_by_week</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">chosen_week</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;current&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span>
            <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">TeamPoints</span><span class="p">,</span> <span class="n">TeamProjectedPoints</span><span class="p">]]]):</span>
        <span class="sd">&quot;&quot;&quot;Retrieve stats of specific team by team_id and by week for chosen league.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_id (str): Selected team ID for which to retrieva data (can be integers 1 through n where n is the</span>
<span class="sd">                number of teams in the league).</span>
<span class="sd">            chosen_week (int): Selected week for which to retrieve data.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_team_stats_by_week(1, 1)</span>
<span class="sd">            {</span>
<span class="sd">              &quot;team_points&quot;: {</span>
<span class="sd">                &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                &quot;total&quot;: &quot;95.06&quot;,</span>
<span class="sd">                &quot;week&quot;: &quot;1&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;team_projected_points&quot;: {</span>
<span class="sd">                &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                &quot;total&quot;: &quot;78.85&quot;,</span>
<span class="sd">                &quot;week&quot;: &quot;1&quot;</span>
<span class="sd">              }</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict[str, TeamPoints | TeamProjectedPoints]: Dictionary containing both a YFPY TeamPoints instance and a</span>
<span class="sd">            YFPY TeamProjectedPoints instance with respective keys &quot;team_points&quot; and &quot;team_projected_points&quot;.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">team_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;.t.&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">team_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/team/</span><span class="si">{</span><span class="n">team_key</span><span class="si">}</span><span class="s2">/stats;type=week;week=</span><span class="si">{</span><span class="n">chosen_week</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;team&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;team_points&quot;</span><span class="p">,</span> <span class="s2">&quot;team_projected_points&quot;</span><span class="p">]]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_team_standings"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_team_standings">[docs]</a>    <span class="k">def</span> <span class="nf">get_team_standings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TeamStandings</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve standings of specific team by team_id for chosen league.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_id (str): Selected team ID for which to retrieva data (can be integers 1 through n where n is the</span>
<span class="sd">                number of teams in the league).</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_team_standings(1)</span>
<span class="sd">            {</span>
<span class="sd">              &quot;rank&quot;: 2,</span>
<span class="sd">              &quot;playoff_seed&quot;: &quot;2&quot;,</span>
<span class="sd">              &quot;outcome_totals&quot;: {</span>
<span class="sd">                &quot;losses&quot;: 5,</span>
<span class="sd">                &quot;percentage&quot;: 0.643,</span>
<span class="sd">                &quot;ties&quot;: 0,</span>
<span class="sd">                &quot;wins&quot;: 9</span>
<span class="sd">              },</span>
<span class="sd">              &quot;streak&quot;: {</span>
<span class="sd">                &quot;type&quot;: &quot;win&quot;,</span>
<span class="sd">                &quot;value&quot;: &quot;1&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;points_for&quot;: &quot;1409.24&quot;,</span>
<span class="sd">              &quot;points_against&quot;: 1266.6599999999999</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            TeamStandings: YFPY TeamStandings instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">team_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;.t.&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">team_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/team/</span><span class="si">{</span><span class="n">team_key</span><span class="si">}</span><span class="s2">/standings&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;team&quot;</span><span class="p">,</span> <span class="s2">&quot;team_standings&quot;</span><span class="p">],</span>
            <span class="n">TeamStandings</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_team_roster_by_week"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_team_roster_by_week">[docs]</a>    <span class="k">def</span> <span class="nf">get_team_roster_by_week</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">chosen_week</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;current&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Roster</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve roster of specific team by team_id and by week for chosen league.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_id (str): Selected team ID for which to retrieva data (can be integers 1 through n where n is the</span>
<span class="sd">                number of teams in the league).</span>
<span class="sd">            chosen_week (int): Selected week for which to retrieve data.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_team_roster_by_week(1, 1)</span>
<span class="sd">            {</span>
<span class="sd">              &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">              &quot;week&quot;: &quot;1&quot;,</span>
<span class="sd">              &quot;is_editable&quot;: 0,</span>
<span class="sd">              &quot;players&quot;: [</span>
<span class="sd">                {</span>
<span class="sd">                  &quot;player&quot;: {</span>
<span class="sd">                    &quot;bye_weeks&quot;: {</span>
<span class="sd">                      &quot;week&quot;: &quot;10&quot;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;display_position&quot;: &quot;QB&quot;,</span>
<span class="sd">                    &quot;editorial_player_key&quot;: &quot;nfl.p.5228&quot;,</span>
<span class="sd">                    &quot;editorial_team_abbr&quot;: &quot;NE&quot;,</span>
<span class="sd">                    &quot;editorial_team_full_name&quot;: &quot;New England Patriots&quot;,</span>
<span class="sd">                    &quot;editorial_team_key&quot;: &quot;nfl.t.17&quot;,</span>
<span class="sd">                    &quot;eligible_positions&quot;: {</span>
<span class="sd">                      &quot;position&quot;: &quot;QB&quot;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;has_player_notes&quot;: 1,</span>
<span class="sd">                    &quot;headshot&quot;: {</span>
<span class="sd">                      &quot;size&quot;: &quot;small&quot;,</span>
<span class="sd">                      &quot;url&quot;: &quot;https://s.yimg.com/iu/api/res/1.2/_U9UJlrYMsJ22DpA..S3zg--~C</span>
<span class="sd">                        /YXBwaWQ9eXNwb3J0cztjaD0yMzM2O2NyPTE7Y3c9MTc5MDtkeD04NTc7ZHk9MDtmaT11bGNyb3A7aD02MDtxPTEwMDt</span>
<span class="sd">                        3PTQ2/https://s.yimg.com/xe/i/us/sp/v/nfl_cutout/players_l/08212019/5228.png&quot;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;is_undroppable&quot;: &quot;0&quot;,</span>
<span class="sd">                    &quot;name&quot;: {</span>
<span class="sd">                      &quot;ascii_first&quot;: &quot;Tom&quot;,</span>
<span class="sd">                      &quot;ascii_last&quot;: &quot;Brady&quot;,</span>
<span class="sd">                      &quot;first&quot;: &quot;Tom&quot;,</span>
<span class="sd">                      &quot;full&quot;: &quot;Tom Brady&quot;,</span>
<span class="sd">                      &quot;last&quot;: &quot;Brady&quot;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;player_id&quot;: &quot;5228&quot;,</span>
<span class="sd">                    &quot;player_key&quot;: &quot;331.p.5228&quot;,</span>
<span class="sd">                    &quot;player_notes_last_timestamp&quot;: 1568837880,</span>
<span class="sd">                    &quot;position_type&quot;: &quot;O&quot;,</span>
<span class="sd">                    &quot;primary_position&quot;: &quot;QB&quot;,</span>
<span class="sd">                    &quot;selected_position&quot;: {</span>
<span class="sd">                      &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                      &quot;is_flex&quot;: 0,</span>
<span class="sd">                      &quot;position&quot;: &quot;QB&quot;,</span>
<span class="sd">                      &quot;week&quot;: &quot;1&quot;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;uniform_number&quot;: &quot;12&quot;</span>
<span class="sd">                  }</span>
<span class="sd">                },</span>
<span class="sd">                ...</span>
<span class="sd">              ]</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            Roster: YFPY Roster instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">team_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;.t.&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">team_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/team/</span><span class="si">{</span><span class="n">team_key</span><span class="si">}</span><span class="s2">/roster;week=</span><span class="si">{</span><span class="n">chosen_week</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;team&quot;</span><span class="p">,</span> <span class="s2">&quot;roster&quot;</span><span class="p">],</span>
            <span class="n">Roster</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_team_roster_player_info_by_week"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_team_roster_player_info_by_week">[docs]</a>    <span class="k">def</span> <span class="nf">get_team_roster_player_info_by_week</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                            <span class="n">chosen_week</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;current&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Player</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve roster with ALL player info of specific team by team_id and by week for chosen league.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_id (str): Selected team ID for which to retrieva data (can be integers 1 through n where n is the</span>
<span class="sd">                number of teams in the league).</span>
<span class="sd">            chosen_week (int): Selected week for which to retrieve data.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_team_roster_player_info_by_week(1, 1)</span>
<span class="sd">            [</span>
<span class="sd">              {</span>
<span class="sd">                &quot;player&quot;: {</span>
<span class="sd">                  &quot;bye_weeks&quot;: {</span>
<span class="sd">                    &quot;week&quot;: &quot;10&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;display_position&quot;: &quot;QB&quot;,</span>
<span class="sd">                  &quot;draft_analysis&quot;: {</span>
<span class="sd">                    &quot;average_pick&quot;: &quot;65.9&quot;,</span>
<span class="sd">                    &quot;average_round&quot;: &quot;7.6&quot;,</span>
<span class="sd">                    &quot;average_cost&quot;: &quot;5.0&quot;,</span>
<span class="sd">                    &quot;percent_drafted&quot;: &quot;1.00&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;editorial_player_key&quot;: &quot;nfl.p.5228&quot;,</span>
<span class="sd">                  &quot;editorial_team_abbr&quot;: &quot;NE&quot;,</span>
<span class="sd">                  &quot;editorial_team_full_name&quot;: &quot;New England Patriots&quot;,</span>
<span class="sd">                  &quot;editorial_team_key&quot;: &quot;nfl.t.17&quot;,</span>
<span class="sd">                  &quot;eligible_positions&quot;: {</span>
<span class="sd">                    &quot;position&quot;: &quot;QB&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;has_player_notes&quot;: 1,</span>
<span class="sd">                  &quot;headshot&quot;: {</span>
<span class="sd">                    &quot;size&quot;: &quot;small&quot;,</span>
<span class="sd">                    &quot;url&quot;: &quot;https://s.yimg.com/iu/api/res/1.2/_U9UJlrYMsJ22DpA..S3zg--~C</span>
<span class="sd">                        /YXBwaWQ9eXNwb3J0cztjaD0yMzM2O2NyPTE7Y3c9MTc5MDtkeD04NTc7ZHk9MDtmaT11bGNyb3A7aD02MDtxPTEwMDt3PTQ2/https://s.yimg.com/xe/i/us/sp/v/nfl_cutout/players_l/08212019/5228.png&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;is_undroppable&quot;: &quot;0&quot;,</span>
<span class="sd">                  &quot;name&quot;: {</span>
<span class="sd">                    &quot;ascii_first&quot;: &quot;Tom&quot;,</span>
<span class="sd">                    &quot;ascii_last&quot;: &quot;Brady&quot;,</span>
<span class="sd">                    &quot;first&quot;: &quot;Tom&quot;,</span>
<span class="sd">                    &quot;full&quot;: &quot;Tom Brady&quot;,</span>
<span class="sd">                    &quot;last&quot;: &quot;Brady&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;ownership&quot;: {</span>
<span class="sd">                    &quot;ownership_type&quot;: &quot;team&quot;,</span>
<span class="sd">                    &quot;owner_team_key&quot;: &quot;331.l.729259.t.1&quot;,</span>
<span class="sd">                    &quot;owner_team_name&quot;: &quot;Hellacious Hill 12&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;percent_owned&quot;: {</span>
<span class="sd">                    &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                    &quot;week&quot;: &quot;17&quot;,</span>
<span class="sd">                    &quot;value&quot;: 99,</span>
<span class="sd">                    &quot;delta&quot;: &quot;0&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;player_id&quot;: &quot;5228&quot;,</span>
<span class="sd">                  &quot;player_key&quot;: &quot;331.p.5228&quot;,</span>
<span class="sd">                  &quot;player_notes_last_timestamp&quot;: 1568837880,</span>
<span class="sd">                  &quot;player_points&quot;: {</span>
<span class="sd">                    &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                    &quot;week&quot;: &quot;1&quot;,</span>
<span class="sd">                    &quot;total&quot;: 10.26</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;player_stats&quot;: {</span>
<span class="sd">                    &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                    &quot;week&quot;: &quot;1&quot;,</span>
<span class="sd">                    &quot;stats&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;stat&quot;: {</span>
<span class="sd">                          &quot;stat_id&quot;: &quot;4&quot;,</span>
<span class="sd">                          &quot;value&quot;: &quot;249&quot;</span>
<span class="sd">                        }</span>
<span class="sd">                      },</span>
<span class="sd">                      ...</span>
<span class="sd">                    ]</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;position_type&quot;: &quot;O&quot;,</span>
<span class="sd">                  &quot;primary_position&quot;: &quot;QB&quot;,</span>
<span class="sd">                  &quot;selected_position&quot;: {</span>
<span class="sd">                    &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                    &quot;is_flex&quot;: 0,</span>
<span class="sd">                    &quot;position&quot;: &quot;QB&quot;,</span>
<span class="sd">                    &quot;week&quot;: &quot;1&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;uniform_number&quot;: &quot;12&quot;</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              ...</span>
<span class="sd">            ]</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[Player]: List of YFPY Player instances containing the keys &quot;draft_analysis&quot;, &quot;ownership&quot;,</span>
<span class="sd">            &quot;percent_owned&quot;, and &quot;player_stats&quot;, which each return instances of their respective YFPY objects.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">team_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;.t.&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">team_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/team/</span><span class="si">{</span><span class="n">team_key</span><span class="si">}</span><span class="s2">/roster;week=</span><span class="si">{</span><span class="n">chosen_week</span><span class="si">}</span><span class="s2">/players;&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;out=metadata,stats,ownership,percent_owned,draft_analysis&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;team&quot;</span><span class="p">,</span> <span class="s2">&quot;roster&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;players&quot;</span><span class="p">]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_team_roster_player_info_by_date"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_team_roster_player_info_by_date">[docs]</a>    <span class="k">def</span> <span class="nf">get_team_roster_player_info_by_date</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">chosen_date</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Player</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve roster with ALL player info of specific team by team_id and by date for chosen league.</span>

<span class="sd">        Note:</span>
<span class="sd">            This applies to MLB, NBA, and NHL leagues, but does NOT apply to NFL leagues.</span>
<span class="sd">            This query will FAIL if you pass it an INVALID date string!</span>

<span class="sd">        Args:</span>
<span class="sd">            team_id (str): Selected team ID for which to retrieva data (can be integers 1 through n where n is the</span>
<span class="sd">                number of teams in the league).</span>
<span class="sd">            chosen_date (str): Selected date for which to retrieve data. REQUIRED FORMAT: YYYY-MM-DD (Ex. 2011-05-01)</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_team_roster_player_info_by_date(1, &quot;2011-05-01&quot;)</span>
<span class="sd">            [</span>
<span class="sd">              {</span>
<span class="sd">                &quot;player&quot;: {</span>
<span class="sd">                  &quot;display_position&quot;: &quot;C&quot;,</span>
<span class="sd">                  &quot;draft_analysis&quot;: {</span>
<span class="sd">                    &quot;average_pick&quot;: 33.2,</span>
<span class="sd">                    &quot;average_round&quot;: 3.5,</span>
<span class="sd">                    &quot;average_cost&quot;: 39.2,</span>
<span class="sd">                    &quot;percent_drafted&quot;: 1.0</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;editorial_player_key&quot;: &quot;nhl.p.3981&quot;,</span>
<span class="sd">                  &quot;editorial_team_abbr&quot;: &quot;Chi&quot;,</span>
<span class="sd">                  &quot;editorial_team_full_name&quot;: &quot;Chicago Blackhawks&quot;,</span>
<span class="sd">                  &quot;editorial_team_key&quot;: &quot;nhl.t.4&quot;,</span>
<span class="sd">                  &quot;eligible_positions&quot;: [</span>
<span class="sd">                    &quot;C&quot;,</span>
<span class="sd">                    &quot;F&quot;</span>
<span class="sd">                  ],</span>
<span class="sd">                  &quot;has_player_notes&quot;: 1,</span>
<span class="sd">                  &quot;headshot&quot;: {</span>
<span class="sd">                    &quot;size&quot;: &quot;small&quot;,</span>
<span class="sd">                    &quot;url&quot;: &quot;https://s.yimg.com/iu/api/res/1.2/tz.KOMoEiBDch6AJAGaUtg--~C/</span>
<span class="sd">                    YXBwaWQ9eXNwb3J0cztjaD0yMzM2O2NyPTE7Y3c9MTc5MDtkeD04NTc7ZHk9MDtmaT11bGNyb3A7aD02MDtxPTEwMDt3PTQ2/https://s.yimg.com/xe/i/us/sp/v/nhl_cutout/players_l/11032021/3981.png&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;is_editable&quot;: 0,</span>
<span class="sd">                  &quot;is_undroppable&quot;: 0,</span>
<span class="sd">                  &quot;name&quot;: {</span>
<span class="sd">                    &quot;ascii_first&quot;: &quot;Jonathan&quot;,</span>
<span class="sd">                    &quot;ascii_last&quot;: &quot;Toews&quot;,</span>
<span class="sd">                    &quot;first&quot;: &quot;Jonathan&quot;,</span>
<span class="sd">                    &quot;full&quot;: &quot;Jonathan Toews&quot;,</span>
<span class="sd">                    &quot;last&quot;: &quot;Toews&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;ownership&quot;: {</span>
<span class="sd">                    &quot;ownership_type&quot;: &quot;team&quot;,</span>
<span class="sd">                    &quot;owner_team_key&quot;: &quot;303.l.69624.t.2&quot;,</span>
<span class="sd">                    &quot;owner_team_name&quot;: &quot;The Bateleurs&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;percent_owned&quot;: {</span>
<span class="sd">                    &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                    &quot;week&quot;: 25,</span>
<span class="sd">                    &quot;value&quot;: 98,</span>
<span class="sd">                    &quot;delta&quot;: -1.0</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;player_id&quot;: 3981,</span>
<span class="sd">                  &quot;player_key&quot;: &quot;303.p.3981&quot;,</span>
<span class="sd">                  &quot;player_notes_last_timestamp&quot;: 1651606838,</span>
<span class="sd">                  &quot;player_stats&quot;: {</span>
<span class="sd">                    &quot;coverage_type&quot;: &quot;date&quot;,</span>
<span class="sd">                    &quot;stats&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;stat&quot;: {</span>
<span class="sd">                          &quot;stat_id&quot;: 1,</span>
<span class="sd">                          &quot;value&quot;: 1.0</span>
<span class="sd">                        }</span>
<span class="sd">                      },</span>
<span class="sd">                      ...</span>
<span class="sd">                    ]</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;position_type&quot;: &quot;P&quot;,</span>
<span class="sd">                  &quot;primary_position&quot;: &quot;C&quot;,</span>
<span class="sd">                  &quot;selected_position&quot;: {</span>
<span class="sd">                    &quot;coverage_type&quot;: &quot;date&quot;,</span>
<span class="sd">                    &quot;is_flex&quot;: 0,</span>
<span class="sd">                    &quot;position&quot;: &quot;C&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;uniform_number&quot;: 19</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              ...</span>
<span class="sd">            ]</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[Player]: List of YFPY Player instances containing the keys &quot;draft_analysis&quot;, &quot;ownership&quot;,</span>
<span class="sd">            &quot;percent_owned&quot;, and &quot;player_stats&quot;, which each return instances of their respective YFPY objects.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">team_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;.t.&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">team_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/team/</span><span class="si">{</span><span class="n">team_key</span><span class="si">}</span><span class="s2">/&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;roster</span><span class="si">{</span><span class="s1">&#39;;date=&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">chosen_date</span><span class="p">)</span> <span class="k">if</span> <span class="n">chosen_date</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">/players;&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;out=metadata,stats,ownership,percent_owned,draft_analysis&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;team&quot;</span><span class="p">,</span> <span class="s2">&quot;roster&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;players&quot;</span><span class="p">]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_team_roster_player_stats"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_team_roster_player_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_team_roster_player_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Player</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve roster with ALL player info for the season of specific team by team_id and for chosen league.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_id (str): Selected team ID for which to retrieva data (can be integers 1 through n where n is the</span>
<span class="sd">                number of teams in the league).</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_team_roster_player_stats(1)</span>
<span class="sd">            [</span>
<span class="sd">              {</span>
<span class="sd">                &quot;player&quot;: {</span>
<span class="sd">                  &quot;bye_weeks&quot;: {</span>
<span class="sd">                    &quot;week&quot;: &quot;10&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;display_position&quot;: &quot;QB&quot;,</span>
<span class="sd">                  &quot;draft_analysis&quot;: {</span>
<span class="sd">                    &quot;average_pick&quot;: &quot;65.9&quot;,</span>
<span class="sd">                    &quot;average_round&quot;: &quot;7.6&quot;,</span>
<span class="sd">                    &quot;average_cost&quot;: &quot;5.0&quot;,</span>
<span class="sd">                    &quot;percent_drafted&quot;: &quot;1.00&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;editorial_player_key&quot;: &quot;nfl.p.5228&quot;,</span>
<span class="sd">                  &quot;editorial_team_abbr&quot;: &quot;NE&quot;,</span>
<span class="sd">                  &quot;editorial_team_full_name&quot;: &quot;New England Patriots&quot;,</span>
<span class="sd">                  &quot;editorial_team_key&quot;: &quot;nfl.t.17&quot;,</span>
<span class="sd">                  &quot;eligible_positions&quot;: {</span>
<span class="sd">                    &quot;position&quot;: &quot;QB&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;has_player_notes&quot;: 1,</span>
<span class="sd">                  &quot;headshot&quot;: {</span>
<span class="sd">                    &quot;size&quot;: &quot;small&quot;,</span>
<span class="sd">                    &quot;url&quot;: &quot;https://s.yimg.com/iu/api/res/1.2/_U9UJlrYMsJ22DpA..S3zg--~C</span>
<span class="sd">                        /YXBwaWQ9eXNwb3J0cztjaD0yMzM2O2NyPTE7Y3c9MTc5MDtkeD04NTc7ZHk9MDtmaT11bGNyb3A7aD02MDtxPTEwMDt3PTQ2/https://s.yimg.com/xe/i/us/sp/v/nfl_cutout/players_l/08212019/5228.png&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;is_undroppable&quot;: &quot;0&quot;,</span>
<span class="sd">                  &quot;name&quot;: {</span>
<span class="sd">                    &quot;ascii_first&quot;: &quot;Tom&quot;,</span>
<span class="sd">                    &quot;ascii_last&quot;: &quot;Brady&quot;,</span>
<span class="sd">                    &quot;first&quot;: &quot;Tom&quot;,</span>
<span class="sd">                    &quot;full&quot;: &quot;Tom Brady&quot;,</span>
<span class="sd">                    &quot;last&quot;: &quot;Brady&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;player_id&quot;: &quot;5228&quot;,</span>
<span class="sd">                  &quot;player_key&quot;: &quot;331.p.5228&quot;,</span>
<span class="sd">                  &quot;player_notes_last_timestamp&quot;: 1568837880,</span>
<span class="sd">                  &quot;player_points&quot;: {</span>
<span class="sd">                    &quot;coverage_type&quot;: &quot;season&quot;,</span>
<span class="sd">                    &quot;total&quot;: 287.06</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;player_stats&quot;: {</span>
<span class="sd">                    &quot;coverage_type&quot;: &quot;season&quot;,</span>
<span class="sd">                    &quot;stats&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;stat&quot;: {</span>
<span class="sd">                          &quot;stat_id&quot;: &quot;4&quot;,</span>
<span class="sd">                          &quot;value&quot;: &quot;4109&quot;</span>
<span class="sd">                        }</span>
<span class="sd">                      },</span>
<span class="sd">                      ...</span>
<span class="sd">                    ]</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;position_type&quot;: &quot;O&quot;,</span>
<span class="sd">                  &quot;primary_position&quot;: &quot;QB&quot;,</span>
<span class="sd">                  &quot;selected_position&quot;: {</span>
<span class="sd">                    &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                    &quot;is_flex&quot;: 0,</span>
<span class="sd">                    &quot;position&quot;: &quot;QB&quot;,</span>
<span class="sd">                    &quot;week&quot;: &quot;16&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;uniform_number&quot;: &quot;12&quot;</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              ...</span>
<span class="sd">            ]</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[Player]: List of YFPY Player instances containing the keys &quot;draft_analysis&quot;, &quot;ownership&quot;,</span>
<span class="sd">            &quot;percent_owned&quot;, and &quot;player_stats&quot;, which each return instances of their respective YFPY objects.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">team_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;.t.&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">team_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/team/</span><span class="si">{</span><span class="n">team_key</span><span class="si">}</span><span class="s2">/roster/players/stats;type=season&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;team&quot;</span><span class="p">,</span> <span class="s2">&quot;roster&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;players&quot;</span><span class="p">]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_team_roster_player_stats_by_week"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_team_roster_player_stats_by_week">[docs]</a>    <span class="k">def</span> <span class="nf">get_team_roster_player_stats_by_week</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                             <span class="n">chosen_week</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;current&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Player</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve roster with player stats of specific team by team_id and by week for chosen league.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_id (str): Selected team ID for which to retrieva data (can be integers 1 through n where n is the</span>
<span class="sd">                number of teams in the league).</span>
<span class="sd">            chosen_week (int): Selected week for which to retrieve data.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_team_roster_player_stats_by_week(1, 1)</span>
<span class="sd">            [</span>
<span class="sd">              {</span>
<span class="sd">                &quot;player&quot;: {</span>
<span class="sd">                  &quot;bye_weeks&quot;: {</span>
<span class="sd">                    &quot;week&quot;: &quot;10&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;display_position&quot;: &quot;QB&quot;,</span>
<span class="sd">                  &quot;editorial_player_key&quot;: &quot;nfl.p.5228&quot;,</span>
<span class="sd">                  &quot;editorial_team_abbr&quot;: &quot;NE&quot;,</span>
<span class="sd">                  &quot;editorial_team_full_name&quot;: &quot;New England Patriots&quot;,</span>
<span class="sd">                  &quot;editorial_team_key&quot;: &quot;nfl.t.17&quot;,</span>
<span class="sd">                  &quot;eligible_positions&quot;: {</span>
<span class="sd">                    &quot;position&quot;: &quot;QB&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;has_player_notes&quot;: 1,</span>
<span class="sd">                  &quot;headshot&quot;: {</span>
<span class="sd">                    &quot;size&quot;: &quot;small&quot;,</span>
<span class="sd">                    &quot;url&quot;: &quot;https://s.yimg.com/iu/api/res/1.2/_U9UJlrYMsJ22DpA..S3zg--~C</span>
<span class="sd">                        /YXBwaWQ9eXNwb3J0cztjaD0yMzM2O2NyPTE7Y3c9MTc5MDtkeD04NTc7ZHk9MDtmaT11bGNyb3A7aD02MDtxPTEwMDt</span>
<span class="sd">                        3PTQ2/https://s.yimg.com/xe/i/us/sp/v/nfl_cutout/players_l/08212019/5228.png&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;is_undroppable&quot;: &quot;0&quot;,</span>
<span class="sd">                  &quot;name&quot;: {</span>
<span class="sd">                    &quot;ascii_first&quot;: &quot;Tom&quot;,</span>
<span class="sd">                    &quot;ascii_last&quot;: &quot;Brady&quot;,</span>
<span class="sd">                    &quot;first&quot;: &quot;Tom&quot;,</span>
<span class="sd">                    &quot;full&quot;: &quot;Tom Brady&quot;,</span>
<span class="sd">                    &quot;last&quot;: &quot;Brady&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;player_id&quot;: &quot;5228&quot;,</span>
<span class="sd">                  &quot;player_key&quot;: &quot;331.p.5228&quot;,</span>
<span class="sd">                  &quot;player_notes_last_timestamp&quot;: 1568837880,</span>
<span class="sd">                  &quot;player_points&quot;: {</span>
<span class="sd">                    &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                    &quot;week&quot;: &quot;1&quot;,</span>
<span class="sd">                    &quot;total&quot;: 10.26</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;player_stats&quot;: {</span>
<span class="sd">                    &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                    &quot;week&quot;: &quot;1&quot;,</span>
<span class="sd">                    &quot;stats&quot;: [</span>
<span class="sd">                      {</span>
<span class="sd">                        &quot;stat&quot;: {</span>
<span class="sd">                          &quot;stat_id&quot;: &quot;4&quot;,</span>
<span class="sd">                          &quot;value&quot;: &quot;249&quot;</span>
<span class="sd">                        }</span>
<span class="sd">                      },</span>
<span class="sd">                      ...</span>
<span class="sd">                    ]</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;position_type&quot;: &quot;O&quot;,</span>
<span class="sd">                  &quot;primary_position&quot;: &quot;QB&quot;,</span>
<span class="sd">                  &quot;selected_position&quot;: {</span>
<span class="sd">                    &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                    &quot;is_flex&quot;: 0,</span>
<span class="sd">                    &quot;position&quot;: &quot;QB&quot;,</span>
<span class="sd">                    &quot;week&quot;: &quot;1&quot;</span>
<span class="sd">                  },</span>
<span class="sd">                  &quot;uniform_number&quot;: &quot;12&quot;</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              ...</span>
<span class="sd">            ]</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[Player]: List of YFPY Player instances containing the &quot;player_stats&quot; key (returns a YFPY PlayerStats</span>
<span class="sd">            instance).</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">team_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;.t.&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">team_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/team/</span><span class="si">{</span><span class="n">team_key</span><span class="si">}</span><span class="s2">/roster;week=</span><span class="si">{</span><span class="n">chosen_week</span><span class="si">}</span><span class="s2">/players/stats&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;team&quot;</span><span class="p">,</span> <span class="s2">&quot;roster&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;players&quot;</span><span class="p">]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_team_draft_results"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_team_draft_results">[docs]</a>    <span class="k">def</span> <span class="nf">get_team_draft_results</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">DraftResult</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve draft results of specific team by team_id for chosen league.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_id (str): Selected team ID for which to retrieva data (can be integers 1 through n where n is the</span>
<span class="sd">                number of teams in the league).</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_team_draft_results(1)</span>
<span class="sd">            [</span>
<span class="sd">              {</span>
<span class="sd">                &quot;draft_result&quot;: {</span>
<span class="sd">                  &quot;pick&quot;: 4,</span>
<span class="sd">                  &quot;round&quot;: 1,</span>
<span class="sd">                  &quot;team_key&quot;: &quot;331.l.729259.t.1&quot;,</span>
<span class="sd">                  &quot;player_key&quot;: &quot;331.p.8256&quot;</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              ...</span>
<span class="sd">            ]</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[DraftResult]: List of YFPY DraftResult instances.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">team_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;.t.&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">team_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/team/</span><span class="si">{</span><span class="n">team_key</span><span class="si">}</span><span class="s2">/draftresults&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;team&quot;</span><span class="p">,</span> <span class="s2">&quot;draft_results&quot;</span><span class="p">]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_team_matchups"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_team_matchups">[docs]</a>    <span class="k">def</span> <span class="nf">get_team_matchups</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">team_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Matchup</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve matchups of specific team by team_id for chosen league.</span>

<span class="sd">        Args:</span>
<span class="sd">            team_id (str): Selected team ID for which to retrieva data (can be integers 1 through n where n is the</span>
<span class="sd">                number of teams in the league).</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_team_matchups(1)</span>
<span class="sd">            [</span>
<span class="sd">                {</span>
<span class="sd">                    &quot;matchup&quot;: {</span>
<span class="sd">                        &lt;matchup data&gt; (see get_league_matchups_by_week docstring for matchup data example)</span>
<span class="sd">                    }</span>
<span class="sd">                }</span>
<span class="sd">            ]</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[Matchup]: List of YFPY Matchup instances.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">team_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;.t.&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">team_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/team/</span><span class="si">{</span><span class="n">team_key</span><span class="si">}</span><span class="s2">/matchups&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;team&quot;</span><span class="p">,</span> <span class="s2">&quot;matchups&quot;</span><span class="p">]</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_player_stats_for_season"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_player_stats_for_season">[docs]</a>    <span class="k">def</span> <span class="nf">get_player_stats_for_season</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Player</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve stats of specific player by player_key for the entire season for chosen league.</span>

<span class="sd">        Args:</span>
<span class="sd">            player_key (str): The player key of chosen player (example: 331.p.7200 - &lt;game_id&gt;.p.&lt;player_id&gt;).</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_player_stats_for_season(&quot;331.p.7200&quot;)</span>
<span class="sd">            {</span>
<span class="sd">              &quot;bye_weeks&quot;: {</span>
<span class="sd">                &quot;week&quot;: &quot;9&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;display_position&quot;: &quot;QB&quot;,</span>
<span class="sd">              &quot;editorial_player_key&quot;: &quot;nfl.p.7200&quot;,</span>
<span class="sd">              &quot;editorial_team_abbr&quot;: &quot;GB&quot;,</span>
<span class="sd">              &quot;editorial_team_full_name&quot;: &quot;Green Bay Packers&quot;,</span>
<span class="sd">              &quot;editorial_team_key&quot;: &quot;nfl.t.9&quot;,</span>
<span class="sd">              &quot;eligible_positions&quot;: {</span>
<span class="sd">                &quot;position&quot;: &quot;QB&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;has_player_notes&quot;: 1,</span>
<span class="sd">              &quot;headshot&quot;: {</span>
<span class="sd">                &quot;size&quot;: &quot;small&quot;,</span>
<span class="sd">                &quot;url&quot;: &quot;https://s.yimg.com/iu/api/res/1.2/Xdm96BfVJw4WV_W7GA7xLw--~C</span>
<span class="sd">                    /YXBwaWQ9eXNwb3J0cztjaD0yMzM2O2NyPTE7Y3c9MTc5MDtkeD04NTc7ZHk9MDtmaT11bGNyb3A7aD02MDtxPTEwMDt3PTQ</span>
<span class="sd">                    2/https://s.yimg.com/xe/i/us/sp/v/nfl_cutout/players_l/08202019/7200.2.png&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;is_undroppable&quot;: &quot;0&quot;,</span>
<span class="sd">              &quot;name&quot;: {</span>
<span class="sd">                &quot;ascii_first&quot;: &quot;Aaron&quot;,</span>
<span class="sd">                &quot;ascii_last&quot;: &quot;Rodgers&quot;,</span>
<span class="sd">                &quot;first&quot;: &quot;Aaron&quot;,</span>
<span class="sd">                &quot;full&quot;: &quot;Aaron Rodgers&quot;,</span>
<span class="sd">                &quot;last&quot;: &quot;Rodgers&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;player_id&quot;: &quot;7200&quot;,</span>
<span class="sd">              &quot;player_key&quot;: &quot;331.p.7200&quot;,</span>
<span class="sd">              &quot;player_notes_last_timestamp&quot;: 1568581740,</span>
<span class="sd">              &quot;player_points&quot;: {</span>
<span class="sd">                &quot;coverage_type&quot;: &quot;season&quot;,</span>
<span class="sd">                &quot;total&quot;: 359.14</span>
<span class="sd">              },</span>
<span class="sd">              &quot;player_stats&quot;: {</span>
<span class="sd">                &quot;coverage_type&quot;: &quot;season&quot;,</span>
<span class="sd">                &quot;stats&quot;: [</span>
<span class="sd">                  {</span>
<span class="sd">                    &quot;stat&quot;: {</span>
<span class="sd">                      &quot;stat_id&quot;: &quot;4&quot;,</span>
<span class="sd">                      &quot;value&quot;: &quot;4381&quot;</span>
<span class="sd">                    }</span>
<span class="sd">                  },</span>
<span class="sd">                  ...</span>
<span class="sd">                ]</span>
<span class="sd">              },</span>
<span class="sd">              &quot;position_type&quot;: &quot;O&quot;,</span>
<span class="sd">              &quot;primary_position&quot;: &quot;QB&quot;,</span>
<span class="sd">              &quot;uniform_number&quot;: &quot;12&quot;</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            Player: YFPY Player instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/league/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span><span class="si">}</span><span class="s2">/players;&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;player_keys=</span><span class="si">{</span><span class="n">player_key</span><span class="si">}</span><span class="s2">/stats&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;league&quot;</span><span class="p">,</span> <span class="s2">&quot;players&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">],</span>
            <span class="n">Player</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_player_stats_by_week"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_player_stats_by_week">[docs]</a>    <span class="k">def</span> <span class="nf">get_player_stats_by_week</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">chosen_week</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;current&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Player</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve stats of specific player by player_key and by week for chosen league.</span>

<span class="sd">        Args:</span>
<span class="sd">            player_key (str): The player key of chosen player (example: 331.p.7200 - &lt;game_id&gt;.p.&lt;player_id&gt;).</span>
<span class="sd">            chosen_week (int): Selected week for which to retrieve data.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_player_stats_by_week(&quot;331.p.7200&quot;, 1)</span>
<span class="sd">            {</span>
<span class="sd">              &quot;bye_weeks&quot;: {</span>
<span class="sd">                &quot;week&quot;: &quot;9&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;display_position&quot;: &quot;QB&quot;,</span>
<span class="sd">              &quot;editorial_player_key&quot;: &quot;nfl.p.7200&quot;,</span>
<span class="sd">              &quot;editorial_team_abbr&quot;: &quot;GB&quot;,</span>
<span class="sd">              &quot;editorial_team_full_name&quot;: &quot;Green Bay Packers&quot;,</span>
<span class="sd">              &quot;editorial_team_key&quot;: &quot;nfl.t.9&quot;,</span>
<span class="sd">              &quot;eligible_positions&quot;: {</span>
<span class="sd">                &quot;position&quot;: &quot;QB&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;has_player_notes&quot;: 1,</span>
<span class="sd">              &quot;headshot&quot;: {</span>
<span class="sd">                &quot;size&quot;: &quot;small&quot;,</span>
<span class="sd">                &quot;url&quot;: &quot;https://s.yimg.com/iu/api/res/1.2/Xdm96BfVJw4WV_W7GA7xLw--~C</span>
<span class="sd">                    /YXBwaWQ9eXNwb3J0cztjaD0yMzM2O2NyPTE7Y3c9MTc5MDtkeD04NTc7ZHk9MDtmaT11bGNyb3A7aD02MDtxPTEwMDt3PTQ</span>
<span class="sd">                    2/https://s.yimg.com/xe/i/us/sp/v/nfl_cutout/players_l/08202019/7200.2.png&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;is_undroppable&quot;: &quot;0&quot;,</span>
<span class="sd">              &quot;name&quot;: {</span>
<span class="sd">                &quot;ascii_first&quot;: &quot;Aaron&quot;,</span>
<span class="sd">                &quot;ascii_last&quot;: &quot;Rodgers&quot;,</span>
<span class="sd">                &quot;first&quot;: &quot;Aaron&quot;,</span>
<span class="sd">                &quot;full&quot;: &quot;Aaron Rodgers&quot;,</span>
<span class="sd">                &quot;last&quot;: &quot;Rodgers&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;player_id&quot;: &quot;7200&quot;,</span>
<span class="sd">              &quot;player_key&quot;: &quot;331.p.7200&quot;,</span>
<span class="sd">              &quot;player_notes_last_timestamp&quot;: 1568581740,</span>
<span class="sd">              &quot;player_points&quot;: {</span>
<span class="sd">                &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                &quot;week&quot;: &quot;1&quot;,</span>
<span class="sd">                &quot;total&quot;: 10.56</span>
<span class="sd">              },</span>
<span class="sd">              &quot;player_stats&quot;: {</span>
<span class="sd">                &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                &quot;week&quot;: &quot;1&quot;,</span>
<span class="sd">                &quot;stats&quot;: [</span>
<span class="sd">                  {</span>
<span class="sd">                    &quot;stat&quot;: {</span>
<span class="sd">                      &quot;stat_id&quot;: &quot;4&quot;,</span>
<span class="sd">                      &quot;value&quot;: &quot;189&quot;</span>
<span class="sd">                    }</span>
<span class="sd">                  },</span>
<span class="sd">                  ...</span>
<span class="sd">                ]</span>
<span class="sd">              },</span>
<span class="sd">              &quot;position_type&quot;: &quot;O&quot;,</span>
<span class="sd">              &quot;primary_position&quot;: &quot;QB&quot;,</span>
<span class="sd">              &quot;uniform_number&quot;: &quot;12&quot;</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            Player: YFPY Player instance containing the &quot;player_stats&quot; key (returns a YFPY PlayerStats instance).</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/league/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span><span class="si">}</span><span class="s2">/players;&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;player_keys=</span><span class="si">{</span><span class="n">player_key</span><span class="si">}</span><span class="s2">/stats;type=week;week=</span><span class="si">{</span><span class="n">chosen_week</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;league&quot;</span><span class="p">,</span> <span class="s2">&quot;players&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">],</span>
            <span class="n">Player</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_player_stats_by_date"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_player_stats_by_date">[docs]</a>    <span class="k">def</span> <span class="nf">get_player_stats_by_date</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">chosen_date</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Player</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve player stats by player_key and by date for chosen league.</span>

<span class="sd">        Note:</span>
<span class="sd">            This applies to MLB, NBA, and NHL leagues, but does NOT apply to NFL leagues.</span>
<span class="sd">            This query will FAIL if you pass it an INVALID date string!</span>

<span class="sd">        Args:</span>
<span class="sd">            player_key (str): The player key of chosen player (example: 331.p.7200 - &lt;game_id&gt;.p.&lt;player_id&gt;).</span>
<span class="sd">            chosen_date (str): Selected date for which to retrieve data. REQUIRED FORMAT: YYYY-MM-DD (Ex. 2011-05-01)</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_player_stats_by_date(&quot;nhl.p.4588&quot;, &quot;2011-05-01&quot;)</span>
<span class="sd">            {</span>
<span class="sd">              &quot;display_position&quot;: &quot;G&quot;,</span>
<span class="sd">              &quot;editorial_player_key&quot;: &quot;nhl.p.4588&quot;,</span>
<span class="sd">              &quot;editorial_team_abbr&quot;: &quot;Was&quot;,</span>
<span class="sd">              &quot;editorial_team_full_name&quot;: &quot;Washington Capitals&quot;,</span>
<span class="sd">              &quot;editorial_team_key&quot;: &quot;nhl.t.23&quot;,</span>
<span class="sd">              &quot;eligible_positions&quot;: {</span>
<span class="sd">                &quot;position&quot;: &quot;G&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;has_player_notes&quot;: 1,</span>
<span class="sd">              &quot;headshot&quot;: {</span>
<span class="sd">                &quot;size&quot;: &quot;small&quot;,</span>
<span class="sd">                &quot;url&quot;: &quot;https://s.yimg.com/iu/api/res/1.2/CzntDh_d59voTqU6fhQy3g--~C/YXBwaWQ9eXNwb3J0cztjaD0yMzM2O2</span>
<span class="sd">                NyPTE7Y3c9MTc5MDtkeD04NTc7ZHk9MDtmaT11bGNyb3A7aD02MDtxPTEwMDt3PTQ2/https://s.yimg.com/</span>
<span class="sd">                xe/i/us/sp/v/nhl_cutout/players_l/10182019/4588.png&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;is_undroppable&quot;: &quot;0&quot;,</span>
<span class="sd">              &quot;name&quot;: {</span>
<span class="sd">                &quot;ascii_first&quot;: &quot;Braden&quot;,</span>
<span class="sd">                &quot;ascii_last&quot;: &quot;Holtby&quot;,</span>
<span class="sd">                &quot;first&quot;: &quot;Braden&quot;,</span>
<span class="sd">                &quot;full&quot;: &quot;Braden Holtby&quot;,</span>
<span class="sd">                &quot;last&quot;: &quot;Holtby&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;player_id&quot;: &quot;4588&quot;,</span>
<span class="sd">              &quot;player_key&quot;: &quot;303.p.4588&quot;,</span>
<span class="sd">              &quot;player_notes_last_timestamp&quot;: 1574133600,</span>
<span class="sd">              &quot;player_stats&quot;: {</span>
<span class="sd">                &quot;coverage_type&quot;: &quot;date&quot;,</span>
<span class="sd">                &quot;stats&quot;: [</span>
<span class="sd">                  {</span>
<span class="sd">                    &quot;stat&quot;: {</span>
<span class="sd">                      &quot;stat_id&quot;: &quot;19&quot;,</span>
<span class="sd">                      &quot;value&quot;: &quot;1&quot;</span>
<span class="sd">                    }</span>
<span class="sd">                  },</span>
<span class="sd">                  {</span>
<span class="sd">                    &quot;stat&quot;: {</span>
<span class="sd">                      &quot;stat_id&quot;: &quot;22&quot;,</span>
<span class="sd">                      &quot;value&quot;: &quot;1&quot;</span>
<span class="sd">                    }</span>
<span class="sd">                  },</span>
<span class="sd">                  {</span>
<span class="sd">                    &quot;stat&quot;: {</span>
<span class="sd">                      &quot;stat_id&quot;: &quot;23&quot;,</span>
<span class="sd">                      &quot;value&quot;: &quot;1.00&quot;</span>
<span class="sd">                    }</span>
<span class="sd">                  },</span>
<span class="sd">                  {</span>
<span class="sd">                    &quot;stat&quot;: {</span>
<span class="sd">                      &quot;stat_id&quot;: &quot;25&quot;,</span>
<span class="sd">                      &quot;value&quot;: &quot;29&quot;</span>
<span class="sd">                    }</span>
<span class="sd">                  },</span>
<span class="sd">                  {</span>
<span class="sd">                    &quot;stat&quot;: {</span>
<span class="sd">                      &quot;stat_id&quot;: &quot;24&quot;,</span>
<span class="sd">                      &quot;value&quot;: &quot;30&quot;</span>
<span class="sd">                    }</span>
<span class="sd">                  },</span>
<span class="sd">                  {</span>
<span class="sd">                    &quot;stat&quot;: {</span>
<span class="sd">                      &quot;stat_id&quot;: &quot;26&quot;,</span>
<span class="sd">                      &quot;value&quot;: &quot;.967&quot;</span>
<span class="sd">                    }</span>
<span class="sd">                  },</span>
<span class="sd">                  {</span>
<span class="sd">                    &quot;stat&quot;: {</span>
<span class="sd">                      &quot;stat_id&quot;: &quot;27&quot;,</span>
<span class="sd">                      &quot;value&quot;: &quot;0&quot;</span>
<span class="sd">                    }</span>
<span class="sd">                  }</span>
<span class="sd">                ]</span>
<span class="sd">              },</span>
<span class="sd">              &quot;position_type&quot;: &quot;G&quot;,</span>
<span class="sd">              &quot;primary_position&quot;: &quot;G&quot;,</span>
<span class="sd">              &quot;uniform_number&quot;: &quot;70&quot;</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            Player: YFPY Player instnace containing the &quot;player_stats&quot; key (returns a YFPY PlayerStats instance).</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/league/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span><span class="si">}</span><span class="s2">/players;&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;player_keys=</span><span class="si">{</span><span class="n">player_key</span><span class="si">}</span><span class="s2">/stats;type=date;date=</span><span class="si">{</span><span class="n">chosen_date</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;league&quot;</span><span class="p">,</span> <span class="s2">&quot;players&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">],</span>
            <span class="n">Player</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_player_ownership"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_player_ownership">[docs]</a>    <span class="k">def</span> <span class="nf">get_player_ownership</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Player</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve ownership of specific player by player_key for chosen league.</span>

<span class="sd">        Args:</span>
<span class="sd">            player_key (str): The player key of chosen player (example: 331.p.7200 - &lt;game_id&gt;.p.&lt;player_id&gt;).</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_player_ownership(&quot;331.p.7200&quot;)</span>
<span class="sd">            {</span>
<span class="sd">              &quot;bye_weeks&quot;: {</span>
<span class="sd">                &quot;week&quot;: &quot;9&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;display_position&quot;: &quot;QB&quot;,</span>
<span class="sd">              &quot;editorial_player_key&quot;: &quot;nfl.p.7200&quot;,</span>
<span class="sd">              &quot;editorial_team_abbr&quot;: &quot;GB&quot;,</span>
<span class="sd">              &quot;editorial_team_full_name&quot;: &quot;Green Bay Packers&quot;,</span>
<span class="sd">              &quot;editorial_team_key&quot;: &quot;nfl.t.9&quot;,</span>
<span class="sd">              &quot;eligible_positions&quot;: {</span>
<span class="sd">                &quot;position&quot;: &quot;QB&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;has_player_notes&quot;: 1,</span>
<span class="sd">              &quot;headshot&quot;: {</span>
<span class="sd">                &quot;size&quot;: &quot;small&quot;,</span>
<span class="sd">                &quot;url&quot;: &quot;https://s.yimg.com/iu/api/res/1.2/Xdm96BfVJw4WV_W7GA7xLw--~C</span>
<span class="sd">                    /YXBwaWQ9eXNwb3J0cztjaD0yMzM2O2NyPTE7Y3c9MTc5MDtkeD04NTc7ZHk9MDtmaT11bGNyb3A7aD02MDtxPTEwMDt3PTQ</span>
<span class="sd">                    2/https://s.yimg.com/xe/i/us/sp/v/nfl_cutout/players_l/08202019/7200.2.png&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;is_undroppable&quot;: &quot;0&quot;,</span>
<span class="sd">              &quot;name&quot;: {</span>
<span class="sd">                &quot;ascii_first&quot;: &quot;Aaron&quot;,</span>
<span class="sd">                &quot;ascii_last&quot;: &quot;Rodgers&quot;,</span>
<span class="sd">                &quot;first&quot;: &quot;Aaron&quot;,</span>
<span class="sd">                &quot;full&quot;: &quot;Aaron Rodgers&quot;,</span>
<span class="sd">                &quot;last&quot;: &quot;Rodgers&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;ownership&quot;: {</span>
<span class="sd">                &quot;ownership_type&quot;: &quot;team&quot;,</span>
<span class="sd">                &quot;owner_team_key&quot;: &quot;331.l.729259.t.4&quot;,</span>
<span class="sd">                &quot;owner_team_name&quot;: &quot;hold my D&quot;,</span>
<span class="sd">                &quot;teams&quot;: {</span>
<span class="sd">                  &quot;team&quot;: {</span>
<span class="sd">                    &quot;clinched_playoffs&quot;: 1,</span>
<span class="sd">                    &quot;draft_grade&quot;: &quot;B-&quot;,</span>
<span class="sd">                    &quot;draft_position&quot;: 1,</span>
<span class="sd">                    &quot;draft_recap_url&quot;:</span>
<span class="sd">                        &quot;https://football.fantasysports.yahoo.com/archive/nfl/2014/729259/4/draftrecap&quot;,</span>
<span class="sd">                    &quot;has_draft_grade&quot;: 1,</span>
<span class="sd">                    &quot;league_scoring_type&quot;: &quot;head&quot;,</span>
<span class="sd">                    &quot;managers&quot;: {</span>
<span class="sd">                      &quot;manager&quot;: {</span>
<span class="sd">                        &quot;guid&quot;: &quot;5KLNXUYW5RP22UMRKUXHBCIITI&quot;,</span>
<span class="sd">                        &quot;manager_id&quot;: &quot;4&quot;,</span>
<span class="sd">                        &quot;nickname&quot;: &quot;--hidden--&quot;</span>
<span class="sd">                      }</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;name&quot;: &quot;hold my D&quot;,</span>
<span class="sd">                    &quot;number_of_moves&quot;: &quot;27&quot;,</span>
<span class="sd">                    &quot;number_of_trades&quot;: &quot;1&quot;,</span>
<span class="sd">                    &quot;roster_adds&quot;: {</span>
<span class="sd">                      &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                      &quot;coverage_value&quot;: &quot;17&quot;,</span>
<span class="sd">                      &quot;value&quot;: &quot;0&quot;</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;team_id&quot;: &quot;4&quot;,</span>
<span class="sd">                    &quot;team_key&quot;: &quot;331.l.729259.t.4&quot;,</span>
<span class="sd">                    &quot;team_logos&quot;: {</span>
<span class="sd">                      &quot;team_logo&quot;: {</span>
<span class="sd">                        &quot;size&quot;: &quot;large&quot;,</span>
<span class="sd">                        &quot;url&quot;: &quot;https://ct.yimg.com/cy/1589/24677593583_68859308dd_192sq.jpg?ct=fantasy&quot;</span>
<span class="sd">                      }</span>
<span class="sd">                    },</span>
<span class="sd">                    &quot;url&quot;: &quot;https://football.fantasysports.yahoo.com/archive/nfl/2014/729259/4&quot;,</span>
<span class="sd">                    &quot;waiver_priority&quot;: 7</span>
<span class="sd">                  }</span>
<span class="sd">                }</span>
<span class="sd">              },</span>
<span class="sd">              &quot;player_id&quot;: &quot;7200&quot;,</span>
<span class="sd">              &quot;player_key&quot;: &quot;331.p.7200&quot;,</span>
<span class="sd">              &quot;player_notes_last_timestamp&quot;: 1568581740,</span>
<span class="sd">              &quot;position_type&quot;: &quot;O&quot;,</span>
<span class="sd">              &quot;primary_position&quot;: &quot;QB&quot;,</span>
<span class="sd">              &quot;uniform_number&quot;: &quot;12&quot;</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            Player: YFPY Player instance containing the &quot;ownership&quot; key (returns a YFPY Ownership instance).</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/league/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span><span class="si">}</span><span class="s2">/players;&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;player_keys=</span><span class="si">{</span><span class="n">player_key</span><span class="si">}</span><span class="s2">/ownership&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;league&quot;</span><span class="p">,</span> <span class="s2">&quot;players&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">],</span>
            <span class="n">Player</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_player_percent_owned_by_week"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_player_percent_owned_by_week">[docs]</a>    <span class="k">def</span> <span class="nf">get_player_percent_owned_by_week</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">chosen_week</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;current&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Player</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve percent-owned of specific player by player_key and by week for chosen league.</span>

<span class="sd">        Args:</span>
<span class="sd">            player_key (str): The player key of chosen player (example: 331.p.7200 - &lt;game_id&gt;.p.&lt;player_id&gt;).</span>
<span class="sd">            chosen_week (int): Selected week for which to retrieve data.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_player_percent_owned_by_week(&quot;331.p.7200&quot;, 1)</span>
<span class="sd">            {</span>
<span class="sd">              &quot;bye_weeks&quot;: {</span>
<span class="sd">                &quot;week&quot;: &quot;9&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;display_position&quot;: &quot;QB&quot;,</span>
<span class="sd">              &quot;editorial_player_key&quot;: &quot;nfl.p.7200&quot;,</span>
<span class="sd">              &quot;editorial_team_abbr&quot;: &quot;GB&quot;,</span>
<span class="sd">              &quot;editorial_team_full_name&quot;: &quot;Green Bay Packers&quot;,</span>
<span class="sd">              &quot;editorial_team_key&quot;: &quot;nfl.t.9&quot;,</span>
<span class="sd">              &quot;eligible_positions&quot;: {</span>
<span class="sd">                &quot;position&quot;: &quot;QB&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;has_player_notes&quot;: 1,</span>
<span class="sd">              &quot;headshot&quot;: {</span>
<span class="sd">                &quot;size&quot;: &quot;small&quot;,</span>
<span class="sd">                &quot;url&quot;: &quot;https://s.yimg.com/iu/api/res/1.2/Xdm96BfVJw4WV_W7GA7xLw--~C</span>
<span class="sd">                /YXBwaWQ9eXNwb3J0cztjaD0yMzM2O2NyPTE7Y3c9MTc5MDtkeD04NTc7ZHk9MDtmaT11bGNyb3A7aD02MDtxPTEwMDt3PTQ2/</span>
<span class="sd">                https://s.yimg.com/xe/i/us/sp/v/nfl_cutout/players_l/08202019/7200.2.png&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;is_undroppable&quot;: &quot;0&quot;,</span>
<span class="sd">              &quot;name&quot;: {</span>
<span class="sd">                &quot;ascii_first&quot;: &quot;Aaron&quot;,</span>
<span class="sd">                &quot;ascii_last&quot;: &quot;Rodgers&quot;,</span>
<span class="sd">                &quot;first&quot;: &quot;Aaron&quot;,</span>
<span class="sd">                &quot;full&quot;: &quot;Aaron Rodgers&quot;,</span>
<span class="sd">                &quot;last&quot;: &quot;Rodgers&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;percent_owned&quot;: {</span>
<span class="sd">                &quot;coverage_type&quot;: &quot;week&quot;,</span>
<span class="sd">                &quot;week&quot;: &quot;1&quot;,</span>
<span class="sd">                &quot;value&quot;: 100,</span>
<span class="sd">                &quot;delta&quot;: &quot;0&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;player_id&quot;: &quot;7200&quot;,</span>
<span class="sd">              &quot;player_key&quot;: &quot;331.p.7200&quot;,</span>
<span class="sd">              &quot;player_notes_last_timestamp&quot;: 1568581740,</span>
<span class="sd">              &quot;position_type&quot;: &quot;O&quot;,</span>
<span class="sd">              &quot;primary_position&quot;: &quot;QB&quot;,</span>
<span class="sd">              &quot;uniform_number&quot;: &quot;12&quot;</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            Player: YFPY Player instance containing the &quot;percent_owned&quot; key (returns a YFPY PercentOwned instance).</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/league/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span><span class="si">}</span><span class="s2">/players;&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;player_keys=</span><span class="si">{</span><span class="n">player_key</span><span class="si">}</span><span class="s2">/percent_owned;type=week;week=</span><span class="si">{</span><span class="n">chosen_week</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;league&quot;</span><span class="p">,</span> <span class="s2">&quot;players&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">],</span>
            <span class="n">Player</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="YahooFantasySportsQuery.get_player_draft_analysis"><a class="viewcode-back" href="../../_autosummary/yfpy.query.YahooFantasySportsQuery.html#yfpy.query.YahooFantasySportsQuery.get_player_draft_analysis">[docs]</a>    <span class="k">def</span> <span class="nf">get_player_draft_analysis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player_key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Player</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Retrieve draft analysis of specific player by player_key for chosen league.</span>

<span class="sd">        Args:</span>
<span class="sd">            player_key (str): The player key of chosen player (example: 331.p.7200 - &lt;game_id&gt;.p.&lt;player_id&gt;).</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; from pathlib import Path</span>
<span class="sd">            &gt;&gt;&gt; from yfpy.query import YahooFantasySportsQuery</span>
<span class="sd">            &gt;&gt;&gt; query = YahooFantasySportsQuery(Path(&quot;/path/to/auth/directory&quot;), league_id=&quot;######&quot;)</span>
<span class="sd">            &gt;&gt;&gt; query.get_player_draft_analysis(&quot;331.p.7200&quot;)</span>
<span class="sd">            {</span>
<span class="sd">              &quot;bye_weeks&quot;: {</span>
<span class="sd">                &quot;week&quot;: &quot;9&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;display_position&quot;: &quot;QB&quot;,</span>
<span class="sd">              &quot;draft_analysis&quot;: {</span>
<span class="sd">                &quot;average_pick&quot;: &quot;19.9&quot;,</span>
<span class="sd">                &quot;average_round&quot;: &quot;2.8&quot;,</span>
<span class="sd">                &quot;average_cost&quot;: &quot;38.5&quot;,</span>
<span class="sd">                &quot;percent_drafted&quot;: &quot;1.00&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;editorial_player_key&quot;: &quot;nfl.p.7200&quot;,</span>
<span class="sd">              &quot;editorial_team_abbr&quot;: &quot;GB&quot;,</span>
<span class="sd">              &quot;editorial_team_full_name&quot;: &quot;Green Bay Packers&quot;,</span>
<span class="sd">              &quot;editorial_team_key&quot;: &quot;nfl.t.9&quot;,</span>
<span class="sd">              &quot;eligible_positions&quot;: {</span>
<span class="sd">                &quot;position&quot;: &quot;QB&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;has_player_notes&quot;: 1,</span>
<span class="sd">              &quot;headshot&quot;: {</span>
<span class="sd">                &quot;size&quot;: &quot;small&quot;,</span>
<span class="sd">                &quot;url&quot;: &quot;https://s.yimg.com/iu/api/res/1.2/Xdm96BfVJw4WV_W7GA7xLw--~C</span>
<span class="sd">                    /YXBwaWQ9eXNwb3J0cztjaD0yMzM2O2NyPTE7Y3c9MTc5MDtkeD04NTc7ZHk9MDtmaT11bGNyb3A7aD02MDtxPTEwMDt3PTQ</span>
<span class="sd">                    2/https://s.yimg.com/xe/i/us/sp/v/nfl_cutout/players_l/08202019/7200.2.png&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;is_undroppable&quot;: &quot;0&quot;,</span>
<span class="sd">              &quot;name&quot;: {</span>
<span class="sd">                &quot;ascii_first&quot;: &quot;Aaron&quot;,</span>
<span class="sd">                &quot;ascii_last&quot;: &quot;Rodgers&quot;,</span>
<span class="sd">                &quot;first&quot;: &quot;Aaron&quot;,</span>
<span class="sd">                &quot;full&quot;: &quot;Aaron Rodgers&quot;,</span>
<span class="sd">                &quot;last&quot;: &quot;Rodgers&quot;</span>
<span class="sd">              },</span>
<span class="sd">              &quot;player_id&quot;: &quot;7200&quot;,</span>
<span class="sd">              &quot;player_key&quot;: &quot;331.p.7200&quot;,</span>
<span class="sd">              &quot;player_notes_last_timestamp&quot;: 1568581740,</span>
<span class="sd">              &quot;position_type&quot;: &quot;O&quot;,</span>
<span class="sd">              &quot;primary_position&quot;: &quot;QB&quot;,</span>
<span class="sd">              &quot;uniform_number&quot;: &quot;12&quot;</span>
<span class="sd">            }</span>

<span class="sd">        Returns:</span>
<span class="sd">            Player: YFPY Player instance containing the &quot;draft_analysis&quot; key (returns a YFPY DraftAnalysis instnace).</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;https://fantasysports.yahooapis.com/fantasy/v2/league/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_league_key</span><span class="p">()</span><span class="si">}</span><span class="s2">/players;&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;player_keys=</span><span class="si">{</span><span class="n">player_key</span><span class="si">}</span><span class="s2">/draft_analysis&quot;</span><span class="p">,</span>
            <span class="p">[</span><span class="s2">&quot;league&quot;</span><span class="p">,</span> <span class="s2">&quot;players&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">],</span>
            <span class="n">Player</span>
        <span class="p">)</span></div></div>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Wren J. R. (uberfastman).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>